{"ast":null,"code":"import _classCallCheck from \"/Users/mugeyakin/Projects/react/react-validation/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/mugeyakin/Projects/react/react-validation/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/mugeyakin/Projects/react/react-validation/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/mugeyakin/Projects/react/react-validation/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/Users/mugeyakin/Projects/react/react-validation/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/mugeyakin/Projects/react/react-validation/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/mugeyakin/Projects/react/react-validation/src/pages/Agent/Product/create.js\";\nimport React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport Breadcrumb from '../../../components/breadcrumb/index';\nimport Message from '../../../components/message/index';\nimport Form from '../../../components/form/form';\nimport Button from '../../../components/form/button';\nimport { companies, createProduct, dispatchItem } from '../../../actions/actions';\n\nvar ProductCreate =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ProductCreate, _React$Component);\n\n  function ProductCreate(props) {\n    var _this;\n\n    _classCallCheck(this, ProductCreate);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ProductCreate).call(this, props));\n    _this.state = {\n      showConfirmBackPopup: false,\n      formModel: {\n        committedAmountOfUnit: {\n          value: '',\n          name: 'committedAmountOfUnit',\n          type: 'text',\n          label: 'Taahhüt Adedi',\n          placeholder: 'Taahhüt adedi',\n          error: 'Lütfen taahhüt adedi girin.',\n          valid: false,\n          touched: false,\n          validationRules: {\n            isRequired: true,\n            isDecimal: true\n          }\n        },\n        productType: {\n          value: '',\n          name: 'productType',\n          type: 'select',\n          label: 'Ürün Detayı',\n          placeholder: 'Ürün detayı',\n          error: 'Lütfen ürün detayı girin.',\n          options: [{\n            name: 'SMS',\n            value: 'SMS'\n          }, {\n            name: 'Fast SMS',\n            value: 'Fast SMS'\n          }, {\n            name: 'MMS',\n            value: 'MMS'\n          }, {\n            name: 'TCKN',\n            value: 'TCKN'\n          }, {\n            name: 'WAPPUSH',\n            value: 'WAPPUSH'\n          }, {\n            name: 'IVR',\n            value: 'IVR'\n          }],\n          valid: false,\n          touched: false,\n          validationRules: {\n            isRequired: true\n          }\n        },\n        tariffPlan: {\n          value: '',\n          name: 'tariffPlan',\n          type: 'text',\n          label: 'Tarife Detayı',\n          placeholder: 'Tarife Detayı',\n          error: 'Lütfen tarife detayı girin.',\n          valid: false,\n          touched: false,\n          validationRules: {\n            isRequired: true\n          }\n        },\n        unitPrice: {\n          value: '',\n          name: 'unitPrice',\n          type: 'text',\n          label: 'Birim Fiyatı (TL)',\n          placeholder: 'Birim fiyatı (TL)',\n          error: 'Lütfen birim fiyatı girin.',\n          valid: false,\n          touched: false,\n          validationRules: {\n            isRequired: true,\n            isDecimal: true\n          }\n        },\n        virtualNumber: {\n          value: '',\n          name: 'virtualNumber',\n          type: 'virtualPhone',\n          label: 'Sanal No',\n          placeholder: 'Sanal no',\n          error: 'Lütfen sanal no girin.',\n          valid: false,\n          touched: false,\n          validationRules: {\n            isRequired: true\n          }\n        }\n      }\n    };\n    _this.getCompanyList = _this.getCompanyList.bind(_assertThisInitialized(_this));\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_this));\n    _this.confirmBackPopup = _this.confirmBackPopup.bind(_assertThisInitialized(_this));\n    _this.goToBack = _this.goToBack.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(ProductCreate, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.app.agent.companies.length < 1) {\n        this.getCompanyList();\n      }\n    }\n  }, {\n    key: \"confirmBackPopup\",\n    value: function confirmBackPopup(state) {\n      this.setState({\n        showConfirmBackPopup: state\n      });\n    }\n  }, {\n    key: \"goToBack\",\n    value: function goToBack() {\n      var companyId = this.props.match.params.id;\n      this.props.history.push('/agent/company/detail/' + companyId + '/products');\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(data) {\n      var _this2 = this;\n\n      var companyId = this.props.match.params.id;\n      data[\"companyId\"] = companyId;\n      this.props.dispatch(createProduct(data, function (data) {\n        _this2.getCompanyList(function () {\n          _this2.props.history.push('/agent/company/detail/' + companyId + '/products');\n        });\n      }, function (data) {}));\n    }\n  }, {\n    key: \"getCompanyList\",\n    value: function getCompanyList(successFunc) {\n      var _this3 = this;\n\n      this.props.dispatch(companies({}, function (data) {\n        _this3.props.dispatch(dispatchItem(\"COMPANY_LIST\", data.customerResponse));\n\n        if (successFunc) {\n          successFunc();\n        }\n      }, function () {}));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var companyId = this.props.match.params.id;\n      var filterCompany = this.props.app.agent.companies.filter(function (item) {\n        return item.companyId === companyId;\n      });\n      var company = filterCompany.length > 0 ? filterCompany[0] : null;\n      var breadcrumbItems = [{\n        name: 'Ana Sayfa',\n        link: '/'\n      }, {\n        name: 'Müşteriler',\n        link: '/agent/company/list'\n      }, {\n        name: company ? company.companyName : \"\",\n        link: '/agent/company/detail/' + (company ? company.companyId : \"\")\n      }, {\n        name: \"Ürünler\",\n        link: '/agent/company/detail/' + (company ? company.companyId : \"\") + '/products'\n      }, {\n        name: 'Yeni Ürün Ekleme'\n      }];\n      return [React.createElement(Breadcrumb, {\n        items: breadcrumbItems,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }), React.createElement(\"section\", {\n        className: \"panel small\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      }, React.createElement(Message, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }), company && React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"title-default\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, \"Yeni \\xDCr\\xFCn Ekleme\")), React.createElement(\"div\", {\n        className: \"form-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }, React.createElement(Form, {\n        model: this.state.formModel,\n        handleSubmit: this.handleSubmit,\n        smallTitle: \"Ürün Bilgileri\",\n        buttonText: \"Ürün Oluştur\",\n        buttonId: \"product-create-save\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      }), React.createElement(Button, {\n        disabled: false,\n        extraClass: \"secondary\",\n        onClick: function onClick() {\n          _this4.confirmBackPopup(true);\n        },\n        text: \"İşlemi iptal et\",\n        id: \"product-create-cancel\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      })))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202\n        },\n        __self: this\n      }, this.state.showConfirmBackPopup && React.createElement(\"div\", {\n        className: \"popup-wrapper active\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"popup-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"popup-title small\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }, \"Geri d\\xF6nmek istiyor musunuz?\"), React.createElement(\"div\", {\n        className: \"popup-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }, \"Bu i\\u015Flemi ger\\xE7ekle\\u015Ftirmek, bu alana ait veri kayb\\u0131na yol a\\xE7abilir.\"), React.createElement(\"div\", {\n        className: \"form-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        id: \"company-product-create-back-okey\",\n        className: \"btn primary\",\n        href: \"javascript:void(0)\",\n        title: \"Onayla\",\n        onClick: function onClick() {\n          _this4.goToBack();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      }, \"Evet\")), React.createElement(\"a\", {\n        id: \"company-product-create-back-cancel\",\n        className: \"btn\",\n        href: \"javascript:void(0)\",\n        title: \"\\u0130ptal\",\n        onClick: function onClick() {\n          return _this4.confirmBackPopup(false);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217\n        },\n        __self: this\n      }, \"\\u0130ptal\")))), React.createElement(\"a\", {\n        className: \"popup-close\",\n        href: \"javascript:void(0)\",\n        onClick: function onClick() {\n          return _this4.confirmBackPopup(false);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: require('../../../assets/icons/icon-popup-close.svg'),\n        alt: \"Kapat Ikonu\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      }))))];\n    }\n  }]);\n\n  return ProductCreate;\n}(React.Component);\n\nfunction mapStateToProps(state) {\n  return {\n    app: state.app\n  };\n}\n\nexport default withRouter(connect(mapStateToProps)(ProductCreate));","map":{"version":3,"sources":["/Users/mugeyakin/Projects/react/react-validation/src/pages/Agent/Product/create.js"],"names":["React","withRouter","connect","Breadcrumb","Message","Form","Button","companies","createProduct","dispatchItem","ProductCreate","props","state","showConfirmBackPopup","formModel","committedAmountOfUnit","value","name","type","label","placeholder","error","valid","touched","validationRules","isRequired","isDecimal","productType","options","tariffPlan","unitPrice","virtualNumber","getCompanyList","bind","handleSubmit","confirmBackPopup","goToBack","app","agent","length","setState","companyId","match","params","id","history","push","data","dispatch","successFunc","customerResponse","filterCompany","filter","item","company","breadcrumbItems","link","companyName","require","Component","mapStateToProps"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport {connect} from 'react-redux';\nimport Breadcrumb from '../../../components/breadcrumb/index';\nimport Message from '../../../components/message/index';\nimport Form from '../../../components/form/form';\nimport Button from '../../../components/form/button';\nimport { companies, createProduct, dispatchItem } from '../../../actions/actions';\n\nclass ProductCreate extends React.Component {\n    constructor(props)\n    {\n        super(props);\n\n        this.state = {\n            showConfirmBackPopup: false,\n            formModel: {\n                committedAmountOfUnit: {\n                    value: '',\n                    name: 'committedAmountOfUnit',\n                    type: 'text',\n                    label: 'Taahhüt Adedi',\n                    placeholder: 'Taahhüt adedi',\n                    error: 'Lütfen taahhüt adedi girin.',\n                    valid: false,\n                    touched: false,\n                    validationRules: {\n                        isRequired: true,\n                        isDecimal: true\n                    }\n                },\n                productType: {\n                    value: '',\n                    name: 'productType',\n                    type: 'select',\n                    label: 'Ürün Detayı',\n                    placeholder: 'Ürün detayı',\n                    error: 'Lütfen ürün detayı girin.',\n                    options: [\n                        {\n                            name: 'SMS',\n                            value: 'SMS'\n                        },\n                        {\n                            name: 'Fast SMS',\n                            value: 'Fast SMS'\n                        },\n                        {\n                            name: 'MMS',\n                            value: 'MMS'\n                        },\n                        {\n                            name: 'TCKN',\n                            value: 'TCKN'\n                        },\n                        {\n                            name: 'WAPPUSH',\n                            value: 'WAPPUSH'\n                        },\n                        {\n                            name: 'IVR',\n                            value: 'IVR'\n                        }\n                    ],\n                    valid: false,\n                    touched: false,\n                    validationRules: {\n                        isRequired: true\n                    }\n                },\n                tariffPlan: {\n                    value: '',\n                    name: 'tariffPlan',\n                    type: 'text',\n                    label: 'Tarife Detayı',\n                    placeholder: 'Tarife Detayı',\n                    error: 'Lütfen tarife detayı girin.',\n                    valid: false,\n                    touched: false,\n                    validationRules: {\n                        isRequired: true\n                    }\n                },\n                unitPrice: {\n                    value: '',\n                    name: 'unitPrice',\n                    type: 'text',\n                    label: 'Birim Fiyatı (TL)',\n                    placeholder: 'Birim fiyatı (TL)',\n                    error: 'Lütfen birim fiyatı girin.',\n                    valid: false,\n                    touched: false,\n                    validationRules: {\n                        isRequired: true,\n                        isDecimal: true\n                    }\n                },\n                virtualNumber: {\n                    value: '',\n                    name: 'virtualNumber',\n                    type: 'virtualPhone',\n                    label: 'Sanal No',\n                    placeholder: 'Sanal no',\n                    error: 'Lütfen sanal no girin.',\n                    valid: false,\n                    touched: false,\n                    validationRules: {\n                        isRequired: true\n                    }\n                }\n            }\n        };\n\n        this.getCompanyList = this.getCompanyList.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.confirmBackPopup = this.confirmBackPopup.bind(this);\n        this.goToBack = this.goToBack.bind(this);\n    }\n\n    componentDidMount() {\n        if (this.props.app.agent.companies.length < 1) {\n            this.getCompanyList();\n        }\n    }\n\n    confirmBackPopup(state){\n        this.setState({\n            showConfirmBackPopup: state\n        });\n    }\n\n    goToBack()\n    {\n        var companyId = this.props.match.params.id;\n        this.props.history.push('/agent/company/detail/' + companyId + '/products');\n    }\n\n    handleSubmit(data)\n    {\n        const companyId = this.props.match.params.id;\n        data[\"companyId\"] = companyId;\n        \n        this.props.dispatch(createProduct(data, (data) => {\n            this.getCompanyList(() => { this.props.history.push('/agent/company/detail/' + companyId + '/products') });\n        }, (data) => {\n        }));\n    }\n\n    getCompanyList(successFunc) {\n        this.props.dispatch(companies({}, (data) => {\n            this.props.dispatch(dispatchItem(\"COMPANY_LIST\", data.customerResponse));\n            if(successFunc)\n            {\n                successFunc();\n            }\n        }, () => {\n\n        }));\n    }\n\n    render() {\n        var companyId = this.props.match.params.id;\n        var filterCompany = this.props.app.agent.companies.filter(function (item) {\n                            return item.companyId === companyId;\n                        });\n\n        var company = filterCompany.length > 0 ? filterCompany[0] : null;\n\n        const breadcrumbItems = [{\n            name: 'Ana Sayfa',\n            link: '/'\n        },{\n            name: 'Müşteriler',\n            link : '/agent/company/list'\n        },{\n            name: (company ? company.companyName : \"\"),\n            link : '/agent/company/detail/' + (company ? company.companyId : \"\")\n        },{\n            name: \"Ürünler\",\n            link : '/agent/company/detail/' + (company ? company.companyId : \"\") + '/products'\n        },{\n            name: 'Yeni Ürün Ekleme'\n        }];\n\n        return (\n            [\n            <Breadcrumb items={breadcrumbItems} />,\n            <section className=\"panel small\">\n                <Message />\n                {company && \n                    <div className=\"container\">\n                        <div className=\"title-default\">\n                            <span>Yeni Ürün Ekleme</span>\n                        </div>\n                        <div className=\"form-container\">\n                            <Form model={this.state.formModel} handleSubmit={this.handleSubmit} smallTitle={\"Ürün Bilgileri\"} buttonText={\"Ürün Oluştur\"} buttonId={\"product-create-save\"} />\n                            <Button disabled={false} extraClass={\"secondary\"} onClick={() => { this.confirmBackPopup(true) }} text={\"İşlemi iptal et\"} id={\"product-create-cancel\"} />\n                        </div>\n                    </div>\n                }\n            </section>,\n            <div>\n                {this.state.showConfirmBackPopup && \n                    <div className=\"popup-wrapper active\">\n                        <div className=\"popup-container\">\n                            <div className=\"popup-title small\">\n                                Geri dönmek istiyor musunuz?\n                            </div>\n                            <div className=\"popup-text\">\n                                Bu işlemi gerçekleştirmek, bu alana ait veri kaybına yol açabilir.\n                            </div>\n                            <div className=\"form-container\">\n                                <a id={\"company-product-create-back-okey\"} className=\"btn primary\" href=\"javascript:void(0)\" title=\"Onayla\" onClick={() => { this.goToBack() }}>\n                                    <span>Evet</span>\n                                </a>\n                                <a id={\"company-product-create-back-cancel\"} className=\"btn\" href=\"javascript:void(0)\" title=\"İptal\" onClick={() => this.confirmBackPopup(false)}>\n                                    <span>İptal</span>\n                                </a>\n                            </div>\n                        </div>\n                        <a className=\"popup-close\" href=\"javascript:void(0)\" onClick={() => this.confirmBackPopup(false)}>\n                            <img src={require('../../../assets/icons/icon-popup-close.svg')} alt=\"Kapat Ikonu\" />\n                        </a>\n                    </div>\n                }\n            </div>\n            ] \n        );\n    }\n  }\n\n  function mapStateToProps(state) {\n      return {\n          app: state.app \n      }\n  }\n\n  export default withRouter(connect(mapStateToProps)(ProductCreate))"]},"metadata":{},"sourceType":"module"}