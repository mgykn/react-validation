{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\taertan\\\\git\\\\onemessaging\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"C:\\\\Users\\\\taertan\\\\git\\\\onemessaging\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\taertan\\\\git\\\\onemessaging\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\taertan\\\\git\\\\onemessaging\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\taertan\\\\git\\\\onemessaging\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\taertan\\\\git\\\\onemessaging\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"C:\\\\Users\\\\taertan\\\\git\\\\onemessaging\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\taertan\\\\git\\\\onemessaging\\\\src\\\\pages\\\\User\\\\Sms\\\\send.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { BrowserRouter as Router, Link, withRouter } from \"react-router-dom\";\nimport Button from '../../../components/form/button';\nimport Form from '../../../components/form/form';\nimport Message from '../../../components/message/index';\nimport Breadcrumb from '../../../components/breadcrumb/index';\nimport { scrollToTop } from '../../../actions/utils';\nimport { groups, dispatchItem, sendSmsByFile, sendSmsBySingle, sendSmsByGroupId, originators, validateFile } from '../../../actions/actions';\nimport LeftList from './_leftList';\n\nvar SendSms =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(SendSms, _React$Component);\n\n  function SendSms(props) {\n    var _this;\n\n    _classCallCheck(this, SendSms);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SendSms).call(this, props));\n    var originatorOptions = [];\n\n    for (var i = 0; i < _this.props.app.originators.length; i++) {\n      originatorOptions.push({\n        name: _this.props.app.originators[i],\n        value: _this.props.app.originators[i]\n      });\n    }\n\n    _this.state = {\n      fileErrorListPopupContent: '',\n      step: 1,\n      searchText: '',\n      sendBy: 0,\n      selectedGroupIds: [],\n      excelFile: null,\n      detailData: {},\n      groupFormModel: {\n        file: {\n          value: '',\n          valuePlaceholder: '',\n          name: 'file',\n          type: 'file',\n          label: 'Dosya Seç',\n          placeholder: 'Bilgisayarınızdan seçim yapmak için tıklayın',\n          error: 'Lütfen bir dosya seçin.',\n          valid: false,\n          touched: false,\n          validationRules: {\n            isRequired: true\n          }\n        }\n      },\n      formModel: {\n        campaignName: {\n          value: '',\n          name: 'campaignName',\n          type: 'text',\n          label: 'Gönderim Adı',\n          placeholder: 'Gönderim adı',\n          error: 'Lütfen gönderim adı girin.',\n          valid: false,\n          touched: false,\n          validationRules: {\n            isRequired: true\n          }\n        },\n        broadcastMessage: {\n          value: '',\n          name: 'broadcastMessage',\n          maxLength: 955,\n          type: 'textarea',\n          label: 'Gönderim Metni',\n          placeholder: 'Gönderim metni',\n          error: 'Lütfen gönderim metni girin.',\n          valid: false,\n          touched: false,\n          validationRules: {\n            isRequired: true\n          }\n        },\n        originator: {\n          value: '',\n          name: 'originator',\n          type: 'select',\n          label: 'Alfanumerik',\n          placeholder: 'Alfanumerik',\n          options: originatorOptions,\n          error: 'Lütfen alfanumerik seçin.',\n          valid: false,\n          touched: false,\n          validationRules: {\n            isRequired: true\n          }\n        },\n        notificationMsisdn: {\n          value: '',\n          name: 'notificationMsisdn',\n          type: 'text',\n          label: 'Mersis No',\n          placeholder: 'Mersis no',\n          error: 'Lütfen mersis no girin.',\n          valid: false,\n          touched: false,\n          validationRules: {}\n        },\n        testSms: {\n          value: '',\n          name: 'testSms',\n          type: 'phone',\n          label: 'Test Telefon Numarası',\n          placeholder: 'Test Telefon numarası',\n          error: 'Lütfen telefon numarası girin.',\n          valid: false,\n          touched: false,\n          validationRules: {}\n        },\n        controlBlacklist: {\n          value: true,\n          name: 'controlBlacklist',\n          type: 'checkbox',\n          label: 'Karalisteye gönderim yapma',\n          valid: false,\n          touched: false,\n          validationRules: {}\n        },\n        sendOnFuture: {\n          value: false,\n          name: 'sendOnFuture',\n          type: 'checkbox',\n          label: 'İleri tarihte gönder',\n          valid: false,\n          touched: false,\n          validationRules: {}\n        },\n        startDate: {\n          hide: true,\n          value: '',\n          name: 'startDate',\n          type: 'textdate',\n          label: 'Tarih',\n          error: 'Lütfen tarih seçin',\n          valid: false,\n          touched: false,\n          validationRules: {\n            isRequired: true,\n            isDate: true\n          }\n        },\n        startTime: {\n          hide: true,\n          value: '',\n          name: 'startTime',\n          type: 'timepicker',\n          label: 'Zaman',\n          error: 'Lütfen zaman seçin.',\n          valid: false,\n          touched: false,\n          validationRules: {\n            isRequired: true,\n            isTime: true\n          }\n        }\n      }\n    };\n    _this.handleGroupInputChange = _this.handleGroupInputChange.bind(_assertThisInitialized(_this));\n    _this.goToState = _this.goToState.bind(_assertThisInitialized(_this));\n    _this.updateSendBy = _this.updateSendBy.bind(_assertThisInitialized(_this));\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_this));\n    _this.handleSearch = _this.handleSearch.bind(_assertThisInitialized(_this));\n    _this.fileErrorListPopup = _this.fileErrorListPopup.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(SendSms, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      if (this.props.app.user.groups.length < 1) {\n        this.props.dispatch(groups({}, function (data) {\n          _this2.props.dispatch(dispatchItem(\"GROUP_LIST\", data.listGroup));\n        }, function () {}));\n      }\n\n      if (this.props.app.originators.length < 1) {\n        this.props.dispatch(originators({}, function (data) {\n          var originators = data.originators;\n          var originatorData = originators.map(function (item) {\n            return item;\n          });\n\n          _this2.props.dispatch(dispatchItem(\"ORIGINATORS\", originatorData));\n        }, function () {}));\n      }\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      if (this.props.app.originators !== nextProps.app.originators) {\n        var originatorOptions = [];\n\n        for (var i = 0; i < nextProps.app.originators.length; i++) {\n          originatorOptions.push({\n            name: nextProps.app.originators[i],\n            value: nextProps.app.originators[i]\n          });\n        }\n\n        this.setState({\n          formModel: _objectSpread({}, this.state.formModel, {\n            originator: _objectSpread({}, this.state.formModel.originator, {\n              options: originatorOptions\n            })\n          })\n        });\n      }\n    }\n  }, {\n    key: \"fileErrorListPopup\",\n    value: function fileErrorListPopup(content) {\n      this.setState({\n        fileErrorListPopupContent: content\n      });\n    }\n  }, {\n    key: \"handleSearch\",\n    value: function handleSearch(e) {\n      this.setState({\n        searchText: e.target.value\n      });\n    }\n  }, {\n    key: \"goToState\",\n    value: function goToState(state) {\n      this.setState({\n        step: state\n      });\n      scrollToTop();\n    }\n  }, {\n    key: \"updateSendBy\",\n    value: function updateSendBy(sendBy) {\n      this.setState({\n        sendBy: sendBy\n      });\n    }\n  }, {\n    key: \"handleGroupInputChange\",\n    value: function handleGroupInputChange(e, groupId) {\n      if (e.target.checked) {\n        var selectedGroupIds = this.state.selectedGroupIds;\n        selectedGroupIds.push(groupId);\n        this.setState({\n          selectedGroupIds: selectedGroupIds\n        });\n      } else {\n        var selectedGroupIds = this.state.selectedGroupIds;\n        selectedGroupIds = selectedGroupIds.filter(function (item) {\n          return item != groupId;\n        });\n        this.setState({\n          selectedGroupIds: selectedGroupIds\n        });\n      }\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(data) {\n      var _this3 = this;\n\n      if (this.state.step == 1) {\n        if (this.state.sendBy == 0) {\n          if (this.state.selectedGroupIds.length > 0) {\n            this.goToState(2);\n          } else {\n            this.props.dispatch(dispatchItem(\"NOTIFICATION\", {\n              message: 'En az bir grup seçmelisiniz.',\n              isError: true\n            }));\n          }\n        } else {\n          if (data != null) {\n            var serviceData = new FormData();\n\n            for (var key in data) {\n              serviceData.append(key, data[key]);\n            }\n\n            this.props.dispatch(validateFile(serviceData, function () {\n              _this3.setState({\n                excelFile: data[\"file\"]\n              }, function () {\n                _this3.goToState(2);\n              });\n            }, function (data) {\n              if (data && data.fileErrorList) {\n                var fileErrorMessage = \"\";\n\n                for (var i = 0; i < data.fileErrorList.length; i++) {\n                  var message = data.fileErrorList[i];\n                  fileErrorMessage += message.description + \"<br />Satır No: \";\n\n                  for (var j = 0; j < message.details.length; j++) {\n                    fileErrorMessage += message.details[j].index;\n\n                    if (j < message.details.length - 1) {\n                      fileErrorMessage += \", \";\n                    }\n                  }\n\n                  if (i < data.fileErrorList.length - 1) {\n                    fileErrorMessage += \"<br /><br />\";\n                  }\n                }\n\n                if (fileErrorMessage != '') {\n                  _this3.fileErrorListPopup(fileErrorMessage);\n                }\n              }\n            }));\n          }\n        }\n      } else if (this.state.step == 2) {\n        this.setState({\n          detailData: data\n        });\n\n        if (data.testSms != \"\") {\n          var singleSmsDataModel = {\n            broadcastMessage: data.broadcastMessage,\n            originator: data.originator,\n            receiverList: [data.testSms]\n          };\n          this.props.dispatch(sendSmsBySingle(singleSmsDataModel, function (data) {\n            _this3.goToState(3);\n          }, function () {}));\n        } else {\n          this.goToState(3);\n        }\n      } else {\n        if (this.state.sendBy == 0) {\n          var sendSmsByGroupServiceData = {\n            groupIdList: this.state.selectedGroupIds,\n            campaignName: this.state.detailData.campaignName,\n            broadcastMessage: this.state.detailData.broadcastMessage,\n            controlBlacklist: this.state.detailData.controlBlacklist,\n            notificationMsisdn: this.state.detailData.notificationMsisdn,\n            originator: this.state.detailData.originator\n          };\n\n          if (this.state.detailData.startDate) {\n            sendSmsByGroupServiceData[\"startDate\"] = this.state.detailData.startDate;\n          }\n\n          if (this.state.detailData.endDate) {\n            sendSmsByGroupServiceData[\"endDate\"] = this.state.detailData.endDate;\n          }\n\n          this.props.dispatch(sendSmsByGroupId(sendSmsByGroupServiceData, function (data) {\n            _this3.props.history.push('/user/sendsms/success');\n          }, function () {}));\n        } else {\n          var sendSmsByFileServiceData = {\n            file: this.state.excelFile,\n            campaignName: this.state.detailData.campaignName,\n            broadcastMessage: this.state.detailData.broadcastMessage,\n            controlBlacklist: this.state.detailData.controlBlacklist,\n            notificationMsisdn: this.state.detailData.notificationMsisdn,\n            originator: this.state.detailData.originator\n          };\n\n          if (this.state.detailData.startDate) {\n            sendSmsByGroupServiceData[\"startDate\"] = this.state.detailData.startDate;\n          }\n\n          if (this.state.detailData.endDate) {\n            sendSmsByGroupServiceData[\"endDate\"] = this.state.detailData.endDate;\n          }\n\n          var sendSmsByFileServiceDataForm = new FormData();\n\n          for (var key in sendSmsByFileServiceData) {\n            sendSmsByFileServiceDataForm.append(key, sendSmsByFileServiceData[key]);\n          }\n\n          this.props.dispatch(sendSmsByFile(sendSmsByFileServiceDataForm, function (data) {\n            _this3.props.history.push('/user/sendsms/success');\n          }, function () {}));\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var breadcrumbItems = [{\n        name: \"Ana Sayfa\",\n        link: \"/\"\n      }, {\n        name: 'SMS Gönder'\n      }];\n      var selectedGroupIds = this.state.selectedGroupIds;\n      var selectedGroups = this.props.app.user.groups.filter(function (item) {\n        return selectedGroupIds.indexOf(item.groupId) >= 0;\n      });\n      return [React.createElement(Breadcrumb, {\n        items: breadcrumbItems,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 432\n        },\n        __self: this\n      }), React.createElement(\"section\", {\n        className: \"panel\" + (this.state.step == 1 ? \" small\" : \"\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 433\n        },\n        __self: this\n      }, React.createElement(Message, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 434\n        },\n        __self: this\n      }), this.state.step == 1 && this.state.sendBy == 0 && React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 436\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"title-default choose\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 437\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 438\n        },\n        __self: this\n      }, \"Grup se\\xE7\"), React.createElement(\"span\", {\n        className: \"middle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 439\n        },\n        __self: this\n      }, \"veya\"), React.createElement(\"a\", {\n        href: \"javascript:void(0)\",\n        onClick: function onClick() {\n          return _this4.updateSendBy(1);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 440\n        },\n        __self: this\n      }, \"Excel y\\xFCkle\")), React.createElement(\"div\", {\n        className: \"user-sms-selection\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 442\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 443\n        },\n        __self: this\n      }, \"SMS g\\xF6ndermek i\\xE7in en az bir grup se\\xE7in.\"), React.createElement(\"div\", {\n        className: \"search\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 446\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 447\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        placeholder: \"Gruplar i\\xE7inde arama yap\",\n        value: this.state.searchText,\n        onChange: this.handleSearch,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 448\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"groups\",\n        id: \"sendsms-groups\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 451\n        },\n        __self: this\n      }, this.props.app.user.groups.map(function (item, i) {\n        if (item.groupName.toLowerCase().indexOf(_this4.state.searchText.toLowerCase()) >= 0) {\n          return React.createElement(\"div\", {\n            className: \"item\",\n            key: \"sendsms-group-\" + i,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 456\n            },\n            __self: this\n          }, React.createElement(\"input\", {\n            id: \"sendsms-group-\" + i,\n            type: \"checkbox\",\n            onChange: function onChange(e) {\n              return _this4.handleGroupInputChange(e, item.groupId);\n            },\n            checked: _this4.state.selectedGroupIds.indexOf(item.groupId) >= 0,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 457\n            },\n            __self: this\n          }), React.createElement(\"label\", {\n            for: \"sendsms-group-\" + i,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 458\n            },\n            __self: this\n          }, React.createElement(\"span\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 459\n            },\n            __self: this\n          }, item.groupName)));\n        }\n      })), React.createElement(\"a\", {\n        className: \"btn primary\",\n        href: \"javascript:void(0)\",\n        onClick: this.handleSubmit,\n        id: \"sms-send-next\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 467\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 468\n        },\n        __self: this\n      }, \"Sonraki Ad\\u0131m\")))), this.state.step == 1 && this.state.sendBy == 1 && React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 474\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"title-default choose\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 475\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"javascript:void(0)\",\n        onClick: function onClick() {\n          return _this4.updateSendBy(0);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 476\n        },\n        __self: this\n      }, \"Grup se\\xE7\"), React.createElement(\"span\", {\n        className: \"middle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 477\n        },\n        __self: this\n      }, \"veya\"), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 478\n        },\n        __self: this\n      }, \"Excel y\\xFCkle\")), React.createElement(\"div\", {\n        className: \"user-sms-selection\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 480\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 481\n        },\n        __self: this\n      }, React.createElement(Form, {\n        model: this.state.groupFormModel,\n        handleSubmit: this.handleSubmit,\n        smallTitle: \"\",\n        buttonText: \"Dosya Yükle\",\n        buttonId: \"sms-send-upload\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 482\n        },\n        __self: this\n      })))), this.props.app.originators.length > 0 && this.state.step == 2 && React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 488\n        },\n        __self: this\n      }, React.createElement(LeftList, {\n        isExcel: this.state.sendBy != 0,\n        items: selectedGroups,\n        goToState: this.goToState,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 489\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 490\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 491\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"title-default\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 492\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 493\n        },\n        __self: this\n      }, \"G\\xF6nderim Detaylar\\u0131\"))), React.createElement(\"div\", {\n        className: \"user-sms-details\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 496\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 497\n        },\n        __self: this\n      }, React.createElement(Form, {\n        model: this.state.formModel,\n        handleSubmit: this.handleSubmit,\n        smallTitle: \"\",\n        buttonText: \"Sonraki Adım\",\n        buttonId: \"sms-send-second-next\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 498\n        },\n        __self: this\n      }), React.createElement(Button, {\n        disabled: false,\n        extraClass: \"secondary only-mobile\",\n        onClick: function onClick() {\n          _this4.goToState(1);\n        },\n        text: \"Bilgileri Düzenle\",\n        id: \"sms-send-second-cancel\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 499\n        },\n        __self: this\n      }))))), this.state.step == 3 && React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 506\n        },\n        __self: this\n      }, React.createElement(LeftList, {\n        items: selectedGroups,\n        goToState: this.goToState,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 507\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 508\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 509\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"column\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 510\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"title-default\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 511\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 512\n        },\n        __self: this\n      }, \"G\\xF6nderim Detaylar\\u0131\"))), React.createElement(\"div\", {\n        className: \"column only-desktop\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 515\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        className: \"btn tertiary\",\n        href: \"javascript:void(0)\",\n        onClick: function onClick() {\n          return _this4.goToState(2);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 516\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 517\n        },\n        __self: this\n      }, \"Bilgileri D\\xFCzenle\")))), React.createElement(\"div\", {\n        className: \"user-sms-preview\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 521\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 522\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 523\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 524\n        },\n        __self: this\n      }, \"G\\xF6nderim Ad\\u0131\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 525\n        },\n        __self: this\n      }, this.state.detailData.campaignName)), React.createElement(\"div\", {\n        className: \"item sms-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 527\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 528\n        },\n        __self: this\n      }, \"G\\xF6nderim Metni\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 529\n        },\n        __self: this\n      }, this.state.detailData.broadcastMessage)), React.createElement(\"div\", {\n        className: \"item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 533\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 534\n        },\n        __self: this\n      }, \"Karakter\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 535\n        },\n        __self: this\n      }, this.state.detailData.broadcastMessage.length)), React.createElement(\"div\", {\n        className: \"item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 537\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 538\n        },\n        __self: this\n      }, \"Uzunluk\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 539\n        },\n        __self: this\n      }, this.state.detailData.broadcastMessage.length > 155 ? Math.floor((this.state.detailData.broadcastMessage.length - 155) / 160) + ((this.state.detailData.broadcastMessage.length - 155) % 160 == 0 ? 1 : 2) : \"1\", \" SMS\")), React.createElement(\"div\", {\n        className: \"item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 543\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 544\n        },\n        __self: this\n      }, \"Kalan Hak\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 545\n        },\n        __self: this\n      }, \"24 SMS\")), React.createElement(\"div\", {\n        className: \"item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 547\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 548\n        },\n        __self: this\n      }, \"Mersis No\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 549\n        },\n        __self: this\n      }, this.state.detailData.notificationMsisdn))), this.state.detailData.controlBlacklist && React.createElement(\"div\", {\n        className: \"info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 553\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"info-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 554\n        },\n        __self: this\n      }, \"Bu SMS karalistedeki numaralara \", React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 555\n        },\n        __self: this\n      }, \"g\\xF6nderilmeyecektir.\"))), this.state.detailData.sendOnFuture && React.createElement(\"div\", {\n        className: \"info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 560\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 561\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 562\n        },\n        __self: this\n      }, \"ileriki tarihte g\\xF6nder\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 563\n        },\n        __self: this\n      }, this.state.detailData.startDate, \", \", this.state.detailData.startTime))), React.createElement(Button, {\n        disabled: false,\n        extraClass: \"primary\",\n        onClick: this.handleSubmit,\n        text: \"SMS Gönder\",\n        buttonId: \"sms-send-third-save\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 571\n        },\n        __self: this\n      }), React.createElement(Button, {\n        disabled: false,\n        extraClass: \"secondary only-mobile\",\n        onClick: function onClick() {\n          _this4.goToState(2);\n        },\n        text: \"Bilgileri Düzenle\",\n        id: \"sms-send-third-cancel\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 572\n        },\n        __self: this\n      })))), this.state.fileErrorListPopupContent != '' && React.createElement(\"div\", {\n        class: \"popup-wrapper active\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 578\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"popup-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 579\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"popup-title small\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 580\n        },\n        __self: this\n      }, \"Dosyan\\u0131zda hatalar mevcut\"), React.createElement(\"div\", {\n        class: \"popup-text\",\n        dangerouslySetInnerHTML: {\n          __html: this.state.fileErrorListPopupContent\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 583\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        class: \"form-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 585\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        class: \"btn\",\n        href: \"javascript:void(0)\",\n        title: \"Tamam\",\n        onClick: function onClick() {\n          return _this4.fileErrorListPopup('');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 586\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 587\n        },\n        __self: this\n      }, \"Tamam\")))), React.createElement(\"a\", {\n        class: \"popup-close\",\n        href: \"javascript:void(0)\",\n        title: \"Kapat\",\n        onClick: function onClick() {\n          return _this4.fileErrorListPopup('');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 591\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: require('../../../assets/icons/icon-popup-close.svg'),\n        alt: \"Kapat Ikonu\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 592\n        },\n        __self: this\n      }))))];\n    }\n  }]);\n\n  return SendSms;\n}(React.Component);\n\nfunction mapStateToProps(state) {\n  return {\n    app: state.app\n  };\n}\n\nexport default withRouter(connect(mapStateToProps)(SendSms));","map":{"version":3,"sources":["C:\\Users\\taertan\\git\\onemessaging\\src\\pages\\User\\Sms\\send.js"],"names":["React","connect","BrowserRouter","Router","Link","withRouter","Button","Form","Message","Breadcrumb","scrollToTop","groups","dispatchItem","sendSmsByFile","sendSmsBySingle","sendSmsByGroupId","originators","validateFile","LeftList","SendSms","props","originatorOptions","i","app","length","push","name","value","state","fileErrorListPopupContent","step","searchText","sendBy","selectedGroupIds","excelFile","detailData","groupFormModel","file","valuePlaceholder","type","label","placeholder","error","valid","touched","validationRules","isRequired","formModel","campaignName","broadcastMessage","maxLength","originator","options","notificationMsisdn","testSms","controlBlacklist","sendOnFuture","startDate","hide","isDate","startTime","isTime","handleGroupInputChange","bind","goToState","updateSendBy","handleSubmit","handleSearch","fileErrorListPopup","user","dispatch","data","listGroup","originatorData","map","item","nextProps","setState","content","e","target","groupId","checked","filter","message","isError","serviceData","FormData","key","append","fileErrorList","fileErrorMessage","description","j","details","index","singleSmsDataModel","receiverList","sendSmsByGroupServiceData","groupIdList","endDate","history","sendSmsByFileServiceData","sendSmsByFileServiceDataForm","breadcrumbItems","link","selectedGroups","indexOf","groupName","toLowerCase","Math","floor","__html","require","Component","mapStateToProps"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  BrowserRouter as Router,\r\n  Link,\r\n  withRouter\r\n} from \"react-router-dom\";\r\nimport Button from '../../../components/form/button';\r\nimport Form from '../../../components/form/form';\r\nimport Message from '../../../components/message/index';\r\nimport Breadcrumb from '../../../components/breadcrumb/index';\r\nimport { scrollToTop } from '../../../actions/utils';\r\nimport { groups, dispatchItem, sendSmsByFile, sendSmsBySingle, sendSmsByGroupId, originators, validateFile } from '../../../actions/actions';\r\nimport LeftList from './_leftList';\r\n\r\nclass SendSms extends React.Component {\r\n    constructor(props)\r\n    {\r\n        super(props)\r\n\r\n        var originatorOptions = [];\r\n        \r\n        for(var i = 0; i < this.props.app.originators.length; i++){\r\n            originatorOptions.push({\r\n                name: this.props.app.originators[i],\r\n                value: this.props.app.originators[i]\r\n            });\r\n        }\r\n\r\n        this.state = {\r\n            fileErrorListPopupContent: '',\r\n            step: 1,\r\n            searchText: '',\r\n            sendBy: 0,\r\n            selectedGroupIds: [],\r\n            excelFile: null,\r\n            detailData: {},\r\n            groupFormModel: {\r\n                file: {\r\n                    value: '',\r\n                    valuePlaceholder: '',\r\n                    name: 'file',\r\n                    type: 'file',\r\n                    label: 'Dosya Seç',\r\n                    placeholder: 'Bilgisayarınızdan seçim yapmak için tıklayın',\r\n                    error: 'Lütfen bir dosya seçin.',\r\n                    valid: false,\r\n                    touched: false,\r\n                    validationRules: {\r\n                        isRequired: true\r\n                    }\r\n                }\r\n            },\r\n            formModel: {\r\n                campaignName: {\r\n                    value: '',\r\n                    name: 'campaignName',\r\n                    type: 'text',\r\n                    label: 'Gönderim Adı',\r\n                    placeholder: 'Gönderim adı',\r\n                    error: 'Lütfen gönderim adı girin.',\r\n                    valid: false,\r\n                    touched: false,\r\n                    validationRules: {\r\n                        isRequired: true\r\n                    }\r\n                },\r\n                broadcastMessage: {\r\n                    value: '',\r\n                    name: 'broadcastMessage',\r\n                    maxLength: 955,\r\n                    type: 'textarea',\r\n                    label: 'Gönderim Metni',\r\n                    placeholder: 'Gönderim metni',\r\n                    error: 'Lütfen gönderim metni girin.',\r\n                    valid: false,\r\n                    touched: false,\r\n                    validationRules: {\r\n                        isRequired: true\r\n                    }\r\n                },\r\n                originator: {\r\n                    value: '',\r\n                    name: 'originator',\r\n                    type: 'select',\r\n                    label: 'Alfanumerik',\r\n                    placeholder: 'Alfanumerik',\r\n                    options: originatorOptions,\r\n                    error: 'Lütfen alfanumerik seçin.',\r\n                    valid: false,\r\n                    touched: false,\r\n                    validationRules: {\r\n                        isRequired: true\r\n                    }\r\n                },\r\n                notificationMsisdn: {\r\n                    value: '',\r\n                    name: 'notificationMsisdn',\r\n                    type: 'text',\r\n                    label: 'Mersis No',\r\n                    placeholder: 'Mersis no',\r\n                    error: 'Lütfen mersis no girin.',\r\n                    valid: false,\r\n                    touched: false,\r\n                    validationRules: {\r\n                    }\r\n                },\r\n                testSms: {\r\n                    value: '',\r\n                    name: 'testSms',\r\n                    type: 'phone',\r\n                    label: 'Test Telefon Numarası',\r\n                    placeholder: 'Test Telefon numarası',\r\n                    error: 'Lütfen telefon numarası girin.',\r\n                    valid: false,\r\n                    touched: false,\r\n                    validationRules: {\r\n                    }\r\n                },\r\n                controlBlacklist: {\r\n                    value: true,\r\n                    name: 'controlBlacklist',\r\n                    type: 'checkbox',\r\n                    label: 'Karalisteye gönderim yapma',\r\n                    valid: false,\r\n                    touched: false,\r\n                    validationRules: {\r\n                    }\r\n                },\r\n                sendOnFuture: {\r\n                    value: false,\r\n                    name: 'sendOnFuture',\r\n                    type: 'checkbox',\r\n                    label: 'İleri tarihte gönder',\r\n                    valid: false,\r\n                    touched: false,\r\n                    validationRules: {\r\n                    }\r\n                },\r\n                startDate: {\r\n                    hide: true,\r\n                    value: '',\r\n                    name: 'startDate',\r\n                    type: 'textdate',\r\n                    label: 'Tarih',\r\n                    error: 'Lütfen tarih seçin',\r\n                    valid: false,\r\n                    touched: false,\r\n                    validationRules: {\r\n                        isRequired: true,\r\n                        isDate: true\r\n                    }\r\n                },\r\n                startTime: {\r\n                    hide: true,\r\n                    value: '',\r\n                    name: 'startTime',\r\n                    type: 'timepicker',\r\n                    label: 'Zaman',\r\n                    error: 'Lütfen zaman seçin.',\r\n                    valid: false,\r\n                    touched: false,\r\n                    validationRules: {\r\n                        isRequired: true,\r\n                        isTime: true\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        this.handleGroupInputChange = this.handleGroupInputChange.bind(this);\r\n        this.goToState = this.goToState.bind(this);\r\n        this.updateSendBy = this.updateSendBy.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.handleSearch = this.handleSearch.bind(this);\r\n        this.fileErrorListPopup = this.fileErrorListPopup.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.props.app.user.groups.length < 1) {\r\n            this.props.dispatch(groups({}, (data) => {\r\n                this.props.dispatch(dispatchItem(\"GROUP_LIST\", data.listGroup));\r\n            }, () => {\r\n\r\n            }));\r\n        }\r\n        \r\n        if(this.props.app.originators.length < 1)\r\n        {\r\n            this.props.dispatch(originators({}, (data) => {\r\n                var originators = data.originators;\r\n                var originatorData = originators.map(function(item){\r\n                    return item;\r\n                });\r\n                this.props.dispatch(dispatchItem(\"ORIGINATORS\", originatorData));\r\n            }, () => {\r\n\r\n            }));\r\n        }\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps)\r\n    {\r\n      if(this.props.app.originators !== nextProps.app.originators) {\r\n        var originatorOptions = [];\r\n        \r\n        for(var i = 0; i < nextProps.app.originators.length; i++){\r\n            originatorOptions.push({\r\n                name: nextProps.app.originators[i],\r\n                value: nextProps.app.originators[i]\r\n            });\r\n        }\r\n        this.setState({\r\n            formModel: {\r\n                ...this.state.formModel,\r\n                originator: {\r\n                    ...this.state.formModel.originator,\r\n                    options: originatorOptions\r\n                }\r\n            }\r\n        })\r\n      }\r\n    }\r\n    \r\n    fileErrorListPopup(content){\r\n        this.setState({\r\n            fileErrorListPopupContent: content\r\n        });\r\n    }\r\n\r\n    handleSearch(e) {\r\n        this.setState({\r\n            searchText: e.target.value \r\n        })\r\n    }\r\n\r\n    goToState(state)\r\n    {\r\n        this.setState({\r\n            step: state\r\n        });\r\n        scrollToTop();\r\n    }\r\n\r\n    updateSendBy(sendBy)\r\n    {\r\n        this.setState({\r\n            sendBy: sendBy\r\n        })\r\n    }\r\n\r\n    handleGroupInputChange(e, groupId) {\r\n        if(e.target.checked){\r\n            var selectedGroupIds = this.state.selectedGroupIds;\r\n            selectedGroupIds.push(groupId);\r\n            this.setState({\r\n                selectedGroupIds: selectedGroupIds\r\n            });\r\n        }\r\n        else {\r\n            var selectedGroupIds = this.state.selectedGroupIds;\r\n            selectedGroupIds = selectedGroupIds.filter(function(item) {\r\n                                  return item != groupId  \r\n                                });\r\n            this.setState({\r\n                selectedGroupIds: selectedGroupIds\r\n            });\r\n        }\r\n    }\r\n\r\n    handleSubmit(data)\r\n    {\r\n        if(this.state.step == 1)\r\n        {\r\n            if(this.state.sendBy == 0)\r\n            {\r\n                if(this.state.selectedGroupIds.length > 0)\r\n                {\r\n                    this.goToState(2);\r\n                }\r\n                else {\r\n                    this.props.dispatch(dispatchItem(\"NOTIFICATION\", { message: 'En az bir grup seçmelisiniz.', isError: true }));\r\n                }\r\n            }\r\n            else {\r\n                if(data != null)\r\n                {\r\n                    var serviceData = new FormData();\r\n                    for (var key in data) {\r\n                        serviceData.append(key, data[key]);\r\n                    }\r\n                    this.props.dispatch(validateFile(serviceData, () => {\r\n                        this.setState({\r\n                            excelFile: data[\"file\"]\r\n                        }, () => {\r\n                            this.goToState(2);\r\n                        });\r\n                    }, (data) => {\r\n                        if(data && data.fileErrorList){    \r\n                            var fileErrorMessage = \"\";\r\n                            for(var i = 0; i < data.fileErrorList.length; i++)\r\n                            {\r\n                                var message = data.fileErrorList[i];\r\n                                fileErrorMessage += message.description + \"<br />Satır No: \";\r\n                                for(var j = 0; j < message.details.length; j++)\r\n                                {\r\n                                    fileErrorMessage += message.details[j].index;\r\n                                    if(j < message.details.length - 1)\r\n                                    {\r\n                                        fileErrorMessage += \", \";\r\n                                    }\r\n                                }\r\n\r\n                                if(i < data.fileErrorList.length - 1)\r\n                                {\r\n                                    fileErrorMessage += \"<br /><br />\";\r\n                                }\r\n                            }\r\n\r\n                            if(fileErrorMessage != '')\r\n                            {\r\n                                this.fileErrorListPopup(fileErrorMessage);\r\n                            }\r\n                        }\r\n                    }));\r\n                }\r\n            }\r\n        }\r\n        else if(this.state.step == 2)\r\n        {\r\n            this.setState({\r\n                detailData: data\r\n            });\r\n\r\n            if(data.testSms != \"\")\r\n            {\r\n                var singleSmsDataModel = {\r\n                    broadcastMessage: data.broadcastMessage,\r\n                    originator: data.originator,\r\n                    receiverList: [data.testSms]\r\n                };\r\n    \r\n                this.props.dispatch(sendSmsBySingle(singleSmsDataModel, (data) => {\r\n                    this.goToState(3);\r\n                }, () => {\r\n    \r\n                }));\r\n            }\r\n            else {\r\n                this.goToState(3);\r\n            }\r\n        }\r\n        else {\r\n            if(this.state.sendBy == 0)\r\n            {\r\n                var sendSmsByGroupServiceData = {\r\n                    groupIdList: this.state.selectedGroupIds,\r\n                    campaignName: this.state.detailData.campaignName,\r\n                    broadcastMessage: this.state.detailData.broadcastMessage,\r\n                    controlBlacklist: this.state.detailData.controlBlacklist,\r\n                    notificationMsisdn: this.state.detailData.notificationMsisdn,\r\n                    originator: this.state.detailData.originator\r\n                };\r\n\r\n                if(this.state.detailData.startDate)\r\n                {\r\n                    sendSmsByGroupServiceData[\"startDate\"] = this.state.detailData.startDate;\r\n                }\r\n\r\n                if(this.state.detailData.endDate)\r\n                {\r\n                    sendSmsByGroupServiceData[\"endDate\"] = this.state.detailData.endDate;\r\n                }\r\n\r\n                this.props.dispatch(sendSmsByGroupId(sendSmsByGroupServiceData, (data) => {\r\n                    this.props.history.push('/user/sendsms/success');\r\n                }, () => {\r\n    \r\n                }));\r\n            }\r\n            else {\r\n                var sendSmsByFileServiceData = {\r\n                    file: this.state.excelFile,\r\n                    campaignName: this.state.detailData.campaignName,\r\n                    broadcastMessage: this.state.detailData.broadcastMessage,\r\n                    controlBlacklist: this.state.detailData.controlBlacklist,\r\n                    notificationMsisdn: this.state.detailData.notificationMsisdn,\r\n                    originator: this.state.detailData.originator\r\n                };\r\n\r\n                if(this.state.detailData.startDate)\r\n                {\r\n                    sendSmsByGroupServiceData[\"startDate\"] = this.state.detailData.startDate;\r\n                }\r\n\r\n                if(this.state.detailData.endDate)\r\n                {\r\n                    sendSmsByGroupServiceData[\"endDate\"] = this.state.detailData.endDate;\r\n                }\r\n\r\n                var sendSmsByFileServiceDataForm = new FormData();\r\n                for (var key in sendSmsByFileServiceData) {\r\n                    sendSmsByFileServiceDataForm.append(key, sendSmsByFileServiceData[key]);\r\n                }\r\n\r\n                this.props.dispatch(sendSmsByFile(sendSmsByFileServiceDataForm, (data) => {\r\n                    this.props.history.push('/user/sendsms/success');\r\n                }, () => {\r\n    \r\n                }));\r\n            }\r\n        }\r\n    }\r\n\r\n    \r\n    render() {\r\n        const breadcrumbItems = [{\r\n            name: \"Ana Sayfa\",\r\n            link: \"/\"\r\n        },{\r\n            name: 'SMS Gönder'\r\n        }];\r\n\r\n        var selectedGroupIds = this.state.selectedGroupIds;\r\n        var selectedGroups = this.props.app.user.groups.filter(function(item){\r\n            return selectedGroupIds.indexOf(item.groupId) >= 0;\r\n        });\r\n\r\n\r\n        return (\r\n        [\r\n            <Breadcrumb items={breadcrumbItems} />,\r\n            <section className={\"panel\" + (this.state.step == 1 ? \" small\" : \"\")}>\r\n                <Message />\r\n                {this.state.step == 1 && this.state.sendBy == 0 &&\r\n                    <div className=\"container\">\r\n                        <div className=\"title-default choose\">\r\n                            <span>Grup seç</span>\r\n                            <span className=\"middle\">veya</span>\r\n                            <a href=\"javascript:void(0)\" onClick={() => this.updateSendBy(1)}>Excel yükle</a>\r\n                        </div>\r\n                        <div className=\"user-sms-selection\">\r\n                            <div className=\"text\">\r\n                                SMS göndermek için en az bir grup seçin.\r\n                            </div>\r\n                            <div className=\"search\">\r\n                                <div className=\"form-item\">\r\n                                    <input type=\"text\" placeholder=\"Gruplar içinde arama yap\" value={this.state.searchText} onChange={this.handleSearch} />\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"groups\" id=\"sendsms-groups\">\r\n                                {this.props.app.user.groups.map((item, i) => {\r\n                                    if(item.groupName.toLowerCase().indexOf(this.state.searchText.toLowerCase()) >= 0)\r\n                                    {\r\n                                        return (\r\n                                            <div className=\"item\" key={\"sendsms-group-\" + i}>\r\n                                                <input id={\"sendsms-group-\" + i} type=\"checkbox\" onChange={(e) => this.handleGroupInputChange(e, item.groupId)} checked={this.state.selectedGroupIds.indexOf(item.groupId) >= 0} />\r\n                                                <label for={\"sendsms-group-\" + i}>\r\n                                                    <span>{item.groupName}</span>\r\n                                                </label>\r\n                                            </div>\r\n                                        )\r\n                                    }\r\n                                }\r\n                                )}\r\n                            </div>\r\n                            <a className=\"btn primary\" href=\"javascript:void(0)\" onClick={this.handleSubmit} id={\"sms-send-next\"}>\r\n                                <span>Sonraki Adım</span>\r\n                            </a>\r\n                        </div>\r\n                    </div>\r\n                }\r\n                {this.state.step == 1 && this.state.sendBy == 1 &&\r\n                    <div className=\"container\">\r\n                        <div className=\"title-default choose\">\r\n                            <a href=\"javascript:void(0)\" onClick={() => this.updateSendBy(0)}>Grup seç</a>\r\n                            <span className=\"middle\">veya</span>\r\n                            <span>Excel yükle</span>\r\n                        </div>\r\n                        <div className=\"user-sms-selection\">\r\n                            <div className=\"form-container\">\r\n                                <Form model={this.state.groupFormModel} handleSubmit={this.handleSubmit} smallTitle={\"\"} buttonText={\"Dosya Yükle\"} buttonId={\"sms-send-upload\"} />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                }\r\n                {this.props.app.originators.length > 0 && this.state.step == 2 &&\r\n                    <div className=\"container\">\r\n                        <LeftList isExcel={this.state.sendBy != 0} items={selectedGroups} goToState={this.goToState} />\r\n                        <div className=\"right\">\r\n                            <div className=\"header\">\r\n                                <div className=\"title-default\">\r\n                                    <span>Gönderim Detayları</span>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"user-sms-details\">\r\n                                <div className=\"form-container\">\r\n                                    <Form model={this.state.formModel} handleSubmit={this.handleSubmit} smallTitle={\"\"} buttonText={\"Sonraki Adım\"} buttonId={\"sms-send-second-next\"} />\r\n                                    <Button disabled={false} extraClass={\"secondary only-mobile\"} onClick={() => { this.goToState(1) }} text={\"Bilgileri Düzenle\"} id={\"sms-send-second-cancel\"} />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                }\r\n                {this.state.step == 3 &&\r\n                    <div className=\"container\">\r\n                        <LeftList items={selectedGroups} goToState={this.goToState} />\r\n                        <div className=\"right\">\r\n                            <div className=\"header\">\r\n                                <div className=\"column\">\r\n                                    <div className=\"title-default\">\r\n                                        <span>Gönderim Detayları</span>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"column only-desktop\">\r\n                                    <a className=\"btn tertiary\" href=\"javascript:void(0)\" onClick={() => this.goToState(2)}>\r\n                                        <span>Bilgileri Düzenle</span>\r\n                                    </a>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"user-sms-preview\">\r\n                                <div className=\"info\">\r\n                                    <div className=\"item\">\r\n                                        <div>Gönderim Adı</div>\r\n                                        <div>{this.state.detailData.campaignName}</div>\r\n                                    </div>\r\n                                    <div className=\"item sms-text\">\r\n                                        <div>Gönderim Metni</div>\r\n                                        <div>\r\n                                            {this.state.detailData.broadcastMessage}\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"item\">\r\n                                        <div>Karakter</div>\r\n                                        <div>{this.state.detailData.broadcastMessage.length}</div>\r\n                                    </div>\r\n                                    <div className=\"item\">\r\n                                        <div>Uzunluk</div>\r\n                                        <div>{this.state.detailData.broadcastMessage.length > 155 ? \r\n                                                                Math.floor((this.state.detailData.broadcastMessage.length - 155) / 160) + (((this.state.detailData.broadcastMessage.length - 155) % 160) == 0 ? 1 : 2) :\r\n                                                                \"1\"} SMS</div>\r\n                                    </div>\r\n                                    <div className=\"item\">\r\n                                        <div>Kalan Hak</div>\r\n                                        <div>24 SMS</div>\r\n                                    </div>\r\n                                    <div className=\"item\">\r\n                                        <div>Mersis No</div>\r\n                                        <div>{this.state.detailData.notificationMsisdn}</div>\r\n                                    </div>\r\n                                </div>\r\n                                {this.state.detailData.controlBlacklist &&\r\n                                    <div className=\"info\">\r\n                                        <div className=\"info-text\">\r\n                                            Bu SMS karalistedeki numaralara <strong>gönderilmeyecektir.</strong>\r\n                                        </div>\r\n                                    </div>\r\n                                }\r\n                                {this.state.detailData.sendOnFuture &&\r\n                                    <div className=\"info\">\r\n                                        <div className=\"item\">\r\n                                            <div>ileriki tarihte gönder</div>\r\n                                            <div>{this.state.detailData.startDate}, {this.state.detailData.startTime}</div>\r\n                                        </div>\r\n                                    </div>\r\n                                }\r\n                                {/* <div className=\"info important\">\r\n                                    <img className=\"icon-info\" src=\"Content/Icons/icon-info.svg\" aria-hidden=\"true\" />\r\n                                    <span>11.00 - 14:00 arası blackhour olarak ayarlandı.</span>\r\n                                </div> */}\r\n                                <Button disabled={false} extraClass={\"primary\"} onClick={this.handleSubmit} text={\"SMS Gönder\"} buttonId={\"sms-send-third-save\"} />\r\n                                <Button disabled={false} extraClass={\"secondary only-mobile\"} onClick={() => { this.goToState(2) }} text={\"Bilgileri Düzenle\"} id={\"sms-send-third-cancel\"} />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                }        \r\n                {this.state.fileErrorListPopupContent != '' && \r\n                    <div class=\"popup-wrapper active\">\r\n                        <div class=\"popup-container\">\r\n                            <div class=\"popup-title small\">\r\n                                Dosyanızda hatalar mevcut\r\n                            </div>\r\n                            <div class=\"popup-text\" dangerouslySetInnerHTML={{ __html: this.state.fileErrorListPopupContent }}>\r\n                            </div>\r\n                            <div class=\"form-container\">\r\n                                <a class=\"btn\" href=\"javascript:void(0)\" title=\"Tamam\" onClick={() => this.fileErrorListPopup('')}>\r\n                                    <span>Tamam</span>\r\n                                </a>\r\n                            </div>\r\n                        </div>\r\n                        <a class=\"popup-close\" href=\"javascript:void(0)\" title=\"Kapat\" onClick={() => this.fileErrorListPopup('')}>\r\n                            <img src={require('../../../assets/icons/icon-popup-close.svg')} alt=\"Kapat Ikonu\" />\r\n                        </a>\r\n                    </div>\r\n                }\r\n            </section>\r\n        ]\r\n      );\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        app: state.app \r\n    }\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps)(SendSms))"]},"metadata":{},"sourceType":"module"}