{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\taertan\\\\git\\\\onemessaging\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\taertan\\\\git\\\\onemessaging\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\taertan\\\\git\\\\onemessaging\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\taertan\\\\git\\\\onemessaging\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\taertan\\\\git\\\\onemessaging\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"C:\\\\Users\\\\taertan\\\\git\\\\onemessaging\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\taertan\\\\git\\\\onemessaging\\\\src\\\\pages\\\\User\\\\Receiver\\\\list.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { BrowserRouter as Router, Link } from \"react-router-dom\";\nimport Message from '../../../components/message/index';\nimport Breadcrumb from '../../../components/breadcrumb/index';\nimport Paging from '../../../components/paging/index';\nimport { scrollToTop } from '../../../actions/utils';\nimport { groups, receivers, deleteReceiver as _deleteReceiver, dispatchItem } from '../../../actions/actions';\n\nvar ReceiverList =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ReceiverList, _React$Component);\n\n  function ReceiverList(props) {\n    var _this;\n\n    _classCallCheck(this, ReceiverList);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ReceiverList).call(this, props));\n    _this.state = {\n      pageSize: 50\n    };\n    _this.getGroupList = _this.getGroupList.bind(_assertThisInitialized(_this));\n    _this.getReceiverList = _this.getReceiverList.bind(_assertThisInitialized(_this));\n    _this.deleteReceiver = _this.deleteReceiver.bind(_assertThisInitialized(_this));\n    _this.changePage = _this.changePage.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(ReceiverList, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.app.user.groups.length < 1) {\n        this.getGroupList();\n      }\n\n      this.getReceiverList();\n    }\n  }, {\n    key: \"getGroupList\",\n    value: function getGroupList() {\n      var _this2 = this;\n\n      this.props.dispatch(groups({}, function (data) {\n        _this2.props.dispatch(dispatchItem(\"GROUP_LIST\", data.listGroup));\n      }, function () {}));\n    }\n  }, {\n    key: \"getReceiverList\",\n    value: function getReceiverList() {\n      var _this3 = this;\n\n      var groupId = this.props.match.params.id;\n      var model = {\n        page: 0,\n        size: this.state.pageSize,\n        groupId: groupId\n      };\n      this.props.dispatch(receivers(model, function (data) {\n        _this3.props.dispatch(dispatchItem(\"RECEIVER_LIST\", data.receiverInfo));\n\n        _this3.props.dispatch(dispatchItem(\"RECEIVER_COUNT\", data.totalSize));\n      }, function () {}));\n    }\n  }, {\n    key: \"changePage\",\n    value: function changePage(pageNumber, pageSize) {\n      var _this4 = this;\n\n      var groupId = this.props.match.params.id;\n      var model = {\n        page: pageNumber,\n        size: pageSize,\n        groupId: groupId\n      };\n      this.props.dispatch(receivers(model, function (data) {\n        _this4.props.dispatch(dispatchItem(\"RECEIVER_LIST\", data.receiverInfo));\n\n        _this4.props.dispatch(dispatchItem(\"RECEIVER_COUNT\", data.totalSize));\n      }, function () {}));\n    }\n  }, {\n    key: \"deleteReceiver\",\n    value: function deleteReceiver(id, msisdn, name, surName) {\n      var _this5 = this;\n\n      var groupId = this.props.match.params.id;\n      var formPostModel = {\n        deleteList: [{\n          id: id,\n          msisdn: msisdn,\n          name: name,\n          surName: surName\n        }],\n        groupId: groupId\n      };\n      this.props.dispatch(_deleteReceiver(formPostModel, function (data) {\n        _this5.getReceiverList();\n\n        scrollToTop();\n      }, function () {}));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this6 = this;\n\n      var groupId = this.props.match.params.id;\n      var filterGroup = this.props.app.user.groups.filter(function (item) {\n        return item.groupId === groupId;\n      });\n      var group = filterGroup.length > 0 ? filterGroup[0] : null;\n      var receivers = this.props.app.user.receivers;\n      var receiverCount = this.props.app.user.receiverCount;\n      var breadcrumbItems = [{\n        name: \"Ana Sayfa\",\n        link: \"/\"\n      }, {\n        name: 'Gruplar',\n        link: '/user/group/list'\n      }, {\n        name: group ? group.groupName : \"\",\n        link: '/user/group/detail/' + (group ? group.groupId : \"\")\n      }, {\n        name: \"Numaralar\"\n      }];\n      return [React.createElement(Breadcrumb, {\n        items: breadcrumbItems,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }), React.createElement(\"section\", {\n        className: \"panel small\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, React.createElement(Message, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }), group && [React.createElement(Link, {\n        id: \"receiver-list-groupedit-mobile\",\n        className: \"btn-back only-mobile\",\n        to: \"/user/group/detail/\" + group.groupId,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: require('../../../assets/icons/icon-back.svg'),\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, \"Grup detay\\u0131na geri d\\xF6n\")), React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"title-default\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, React.createElement(Link, {\n        id: \"receiver-list-groupedit\",\n        className: \"title-link only-desktop\",\n        to: \"/user/group/detail/\" + group.groupId,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, \"Grup Detay\\u0131\"), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, group.groupName)), React.createElement(\"div\", {\n        className: \"user-numbers\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"user-number-details\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"user-group-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, \"Grup \\u0130smi\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, group.groupName)), React.createElement(\"div\", {\n        className: \"user-group-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, \"Grup A\\xE7\\u0131klamas\\u0131\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, group.groupDesc))), React.createElement(\"div\", {\n        className: \"user-number-list\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, \"Numaralar\"), receivers && receivers.map(function (item, i) {\n        return React.createElement(\"div\", {\n          className: \"user-number-item\",\n          key: \"receiver_\" + group.groupId + \"_\" + i,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 161\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 162\n          },\n          __self: this\n        }, item.msisdn), React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 163\n          },\n          __self: this\n        }, item.name, \" \", item.surName), React.createElement(\"a\", {\n          className: \"remove-item\",\n          href: \"javascript:void(0)\",\n          onClick: function onClick() {\n            return _this6.deleteReceiver(item.id, item.msisdn, item.name, item.surName);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 164\n          },\n          __self: this\n        }, \"Sil\"));\n      }), React.createElement(Paging, {\n        totalItemCount: receiverCount,\n        pageSize: this.state.pageSize,\n        changePage: this.changePage.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }))))])];\n    }\n  }]);\n\n  return ReceiverList;\n}(React.Component);\n\nfunction mapStateToProps(state) {\n  return {\n    app: state.app\n  };\n}\n\nexport default connect(mapStateToProps)(ReceiverList);","map":{"version":3,"sources":["C:\\Users\\taertan\\git\\onemessaging\\src\\pages\\User\\Receiver\\list.js"],"names":["React","connect","BrowserRouter","Router","Link","Message","Breadcrumb","Paging","scrollToTop","groups","receivers","deleteReceiver","dispatchItem","ReceiverList","props","state","pageSize","getGroupList","bind","getReceiverList","changePage","app","user","length","dispatch","data","listGroup","groupId","match","params","id","model","page","size","receiverInfo","totalSize","pageNumber","msisdn","name","surName","formPostModel","deleteList","filterGroup","filter","item","group","receiverCount","breadcrumbItems","link","groupName","require","groupDesc","map","i","Component","mapStateToProps"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  BrowserRouter as Router,\r\n  Link\r\n} from \"react-router-dom\";\r\nimport Message from '../../../components/message/index';\r\nimport Breadcrumb from '../../../components/breadcrumb/index';\r\nimport Paging from '../../../components/paging/index';\r\nimport { scrollToTop } from '../../../actions/utils';\r\nimport { groups, receivers, deleteReceiver, dispatchItem } from '../../../actions/actions';\r\n\r\nclass ReceiverList extends React.Component {\r\n    constructor(props)\r\n    {\r\n        super(props)\r\n\r\n        this.state = {\r\n            pageSize: 50\r\n        }\r\n\r\n        this.getGroupList = this.getGroupList.bind(this);\r\n        this.getReceiverList = this.getReceiverList.bind(this);\r\n        this.deleteReceiver = this.deleteReceiver.bind(this);\r\n        this.changePage = this.changePage.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.props.app.user.groups.length < 1) {\r\n            this.getGroupList();\r\n        }\r\n\r\n        this.getReceiverList();\r\n    }\r\n\r\n    getGroupList()\r\n    {\r\n        this.props.dispatch(groups({}, (data) => {\r\n            this.props.dispatch(dispatchItem(\"GROUP_LIST\", data.listGroup));\r\n        }, () => {\r\n\r\n        }));\r\n    }\r\n    \r\n    getReceiverList()\r\n    {\r\n        var groupId = this.props.match.params.id;\r\n\r\n        var model = {\r\n            page: 0,\r\n            size: this.state.pageSize,\r\n            groupId: groupId\r\n        };\r\n\r\n        this.props.dispatch(receivers(model, (data) => {\r\n            this.props.dispatch(dispatchItem(\"RECEIVER_LIST\", data.receiverInfo));\r\n            this.props.dispatch(dispatchItem(\"RECEIVER_COUNT\", data.totalSize));\r\n        }, () => {\r\n\r\n        }));\r\n    }\r\n\r\n    changePage(pageNumber, pageSize) {\r\n        var groupId = this.props.match.params.id;\r\n\r\n        var model = {\r\n            page: pageNumber,\r\n            size: pageSize,\r\n            groupId: groupId\r\n        };\r\n\r\n        this.props.dispatch(receivers(model, (data) => {\r\n            this.props.dispatch(dispatchItem(\"RECEIVER_LIST\", data.receiverInfo));\r\n            this.props.dispatch(dispatchItem(\"RECEIVER_COUNT\", data.totalSize));\r\n        }, () => {\r\n\r\n        }));\r\n    }\r\n\r\n    deleteReceiver(id, msisdn, name, surName) {\r\n        var groupId = this.props.match.params.id;\r\n        var formPostModel = {\r\n            deleteList: [\r\n                {\r\n                  id: id,\r\n                  msisdn: msisdn,\r\n                  name: name,\r\n                  surName: surName\r\n                }\r\n            ],\r\n            groupId: groupId\r\n        }\r\n\r\n        this.props.dispatch(deleteReceiver(formPostModel, (data) => {\r\n            this.getReceiverList();\r\n            scrollToTop();\r\n        }, () => {\r\n\r\n        }));\r\n    }\r\n\r\n    render() {\r\n        var groupId = this.props.match.params.id;\r\n        \r\n        var filterGroup = this.props.app.user.groups.filter(function (item) {\r\n            return item.groupId === groupId;\r\n        });\r\n        \r\n        var group = filterGroup.length > 0 ? filterGroup[0] : null;\r\n        \r\n        var receivers = this.props.app.user.receivers;\r\n        var receiverCount = this.props.app.user.receiverCount;\r\n        \r\n        const breadcrumbItems = [{\r\n            name: \"Ana Sayfa\",\r\n            link: \"/\"\r\n        },{\r\n            name: 'Gruplar',\r\n            link : '/user/group/list'\r\n        },{\r\n            name: (group ? group.groupName : \"\"),\r\n            link : '/user/group/detail/' + (group ? group.groupId : \"\")\r\n        },{\r\n            name: \"Numaralar\"\r\n        }];\r\n\r\n        return (\r\n        [\r\n          <Breadcrumb items={breadcrumbItems} />,\r\n          <section className=\"panel small\">\r\n            <Message />\r\n            {group &&    \r\n                [    \r\n                    <Link id={\"receiver-list-groupedit-mobile\"} className=\"btn-back only-mobile\" to={\"/user/group/detail/\" + group.groupId }>\r\n                        <img src={require('../../../assets/icons/icon-back.svg')} aria-hidden=\"true\"/>\r\n                        <span>Grup detayına geri dön</span>\r\n                    </Link>,\r\n                    <div className=\"container\">\r\n                        <div className=\"title-default\">\r\n                            <Link id={\"receiver-list-groupedit\"} className=\"title-link only-desktop\" to={\"/user/group/detail/\" + group.groupId }>\r\n                                Grup Detayı\r\n                            </Link>\r\n                            <span>{group.groupName}</span>\r\n                        </div>\r\n                        <div className=\"user-numbers\">\r\n                            <div className=\"user-number-details\">\r\n                                <div className=\"user-group-text\">\r\n                                    <div>Grup İsmi</div>\r\n                                    <div>{group.groupName}</div>\r\n                                </div>\r\n                                <div className=\"user-group-text\">\r\n                                    <div>Grup Açıklaması</div>\r\n                                    <div>{group.groupDesc}</div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"user-number-list\">\r\n                                <div className=\"title\">\r\n                                    Numaralar\r\n                                </div>\r\n                                {receivers && receivers.map((item, i) =>\r\n                                    <div className=\"user-number-item\" key={\"receiver_\" + group.groupId + \"_\" + i}>\r\n                                        <span>{item.msisdn}</span>\r\n                                        <span>{item.name} {item.surName}</span>\r\n                                        <a className=\"remove-item\" href=\"javascript:void(0)\" onClick={() => this.deleteReceiver(item.id, item.msisdn, item.name, item.surName)}>Sil</a>\r\n                                    </div>\r\n                                )}\r\n                                <Paging totalItemCount={receiverCount} pageSize={this.state.pageSize} changePage={this.changePage.bind(this)} />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                ] \r\n            }\r\n        </section>\r\n        ]\r\n      );\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        app: state.app \r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(ReceiverList)"]},"metadata":{},"sourceType":"module"}