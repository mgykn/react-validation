{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\taertan\\\\git\\\\onemessaging\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\taertan\\\\git\\\\onemessaging\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\taertan\\\\git\\\\onemessaging\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\taertan\\\\git\\\\onemessaging\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\taertan\\\\git\\\\onemessaging\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\taertan\\\\git\\\\onemessaging\\\\src\\\\layouts\\\\MainLayout.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from \"react-router-dom\";\nimport { dispatchItem } from \"../actions/actions\";\nimport { scrollToTop } from \"../actions/utils\";\nimport Popup from \"./Popup\";\nimport ForgotPasswordPopup from \"./popupcontents/ForgotPasswordPopup\";\nimport LoginPopup from \"./popupcontents/LoginPopup\";\nimport OtpSmsPopup from \"./popupcontents/OtpSmsPopup\";\nimport ChangePasswordPopup from \"./popupcontents/ChangePasswordPopup\";\nimport UpdatePasswordPopup from \"./popupcontents/UpdatePasswordPopup\";\n\nvar MainLayout =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(MainLayout, _React$Component);\n\n  function MainLayout() {\n    _classCallCheck(this, MainLayout);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(MainLayout).apply(this, arguments));\n  }\n\n  _createClass(MainLayout, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var accessTokenStored = localStorage.getItem('user');\n      var userTypeStored = localStorage.getItem('userType');\n      var userEmailStored = localStorage.getItem('userEmail');\n\n      if (accessTokenStored == null || userTypeStored == null || userEmailStored == null) {\n        this.props.dispatch(dispatchItem('ACCESS_TOKEN', {\n          accessToken: '',\n          userType: ''\n        }));\n        this.props.dispatch(dispatchItem('USER_EMAIL', ''));\n      } else {\n        var accessToken = this.props.app.accessToken;\n        var userType = this.props.app.userType;\n        var userEmail = this.props.app.userEmail;\n\n        if (accessToken !== accessTokenStored || userType !== userTypeStored) {\n          this.props.dispatch(dispatchItem('ACCESS_TOKEN', {\n            accessToken: accessTokenStored,\n            userType: userTypeStored\n          }));\n        }\n\n        if (userEmail != userEmailStored) {\n          this.props.dispatch(dispatchItem('USER_EMAIL', userEmailStored));\n        }\n      }\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      if (this.props.location !== nextProps.location) {\n        scrollToTop();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, this.props.children, this.props.app.activePopup !== '' && React.createElement(Popup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, this.props.app.activePopup === 'forgotPassword' && React.createElement(ForgotPasswordPopup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }), this.props.app.activePopup === 'login' && React.createElement(LoginPopup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }), this.props.app.activePopup === 'otpSms' && React.createElement(OtpSmsPopup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }), this.props.app.activePopup === 'changePassword' && React.createElement(ChangePasswordPopup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }), this.props.app.activePopup === 'updatePassword' && React.createElement(UpdatePasswordPopup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      })), this.props.app.loading && React.createElement(\"div\", {\n        className: \"loading\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(\"svg\", {\n        className: \"load\",\n        x: \"0px\",\n        y: \"0px\",\n        viewBox: \"0 0 150 150\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(\"circle\", {\n        className: \"loading-inner\",\n        cx: \"75\",\n        cy: \"75\",\n        r: \"60\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return MainLayout;\n}(React.Component);\n\nfunction mapStateToProps(state) {\n  return {\n    app: state.app\n  };\n}\n\nexport default withRouter(connect(mapStateToProps)(MainLayout));","map":{"version":3,"sources":["C:\\Users\\taertan\\git\\onemessaging\\src\\layouts\\MainLayout.js"],"names":["React","connect","withRouter","dispatchItem","scrollToTop","Popup","ForgotPasswordPopup","LoginPopup","OtpSmsPopup","ChangePasswordPopup","UpdatePasswordPopup","MainLayout","accessTokenStored","localStorage","getItem","userTypeStored","userEmailStored","props","dispatch","accessToken","userType","app","userEmail","nextProps","location","children","activePopup","loading","Component","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { dispatchItem } from \"../actions/actions\";\r\nimport { scrollToTop } from \"../actions/utils\";\r\nimport Popup from \"./Popup\";\r\nimport ForgotPasswordPopup from \"./popupcontents/ForgotPasswordPopup\";\r\nimport LoginPopup from \"./popupcontents/LoginPopup\";\r\nimport OtpSmsPopup from \"./popupcontents/OtpSmsPopup\";\r\nimport ChangePasswordPopup from \"./popupcontents/ChangePasswordPopup\";\r\nimport UpdatePasswordPopup from \"./popupcontents/UpdatePasswordPopup\";\r\n\r\nclass MainLayout extends React.Component {\r\n    componentDidMount() {\r\n        var accessTokenStored = localStorage.getItem('user');\r\n        var userTypeStored = localStorage.getItem('userType');\r\n        var userEmailStored = localStorage.getItem('userEmail');\r\n        if(accessTokenStored == null || userTypeStored == null || userEmailStored == null)\r\n        {\r\n            this.props.dispatch(dispatchItem('ACCESS_TOKEN', { accessToken: '', userType: '' }));\r\n            this.props.dispatch(dispatchItem('USER_EMAIL', ''));\r\n        }\r\n        else {\r\n            var accessToken = this.props.app.accessToken;\r\n            var userType = this.props.app.userType;\r\n            var userEmail = this.props.app.userEmail;\r\n            if(accessToken !== accessTokenStored || userType !== userTypeStored)\r\n            {\r\n                this.props.dispatch(dispatchItem('ACCESS_TOKEN', { accessToken: accessTokenStored, userType: userTypeStored }));\r\n            }\r\n            \r\n            if(userEmail != userEmailStored)\r\n            {\r\n                this.props.dispatch(dispatchItem('USER_EMAIL', userEmailStored));\r\n            }\r\n        }\r\n    }\r\n    \r\n    componentWillReceiveProps(nextProps) {\r\n        if (this.props.location !== nextProps.location) {\r\n            scrollToTop();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {this.props.children}\r\n                {this.props.app.activePopup !== '' &&\r\n                    <Popup>\r\n                        {this.props.app.activePopup === 'forgotPassword' &&\r\n                            <ForgotPasswordPopup />\r\n                        }\r\n                        {this.props.app.activePopup === 'login' &&\r\n                            <LoginPopup />\r\n                        }\r\n                        {this.props.app.activePopup === 'otpSms' &&\r\n                            <OtpSmsPopup />\r\n                        }          \r\n                        {this.props.app.activePopup === 'changePassword' &&\r\n                            <ChangePasswordPopup />\r\n                        }          \r\n                        {this.props.app.activePopup === 'updatePassword' &&\r\n                            <UpdatePasswordPopup />\r\n                        }\r\n                    </Popup>\r\n                }\r\n                {this.props.app.loading &&                \r\n                    <div className=\"loading\">\r\n                        <svg className=\"load\" x=\"0px\" y=\"0px\" viewBox=\"0 0 150 150\">\r\n                            <circle className=\"loading-inner\" cx=\"75\" cy=\"75\" r=\"60\" />\r\n                        </svg>\r\n                    </div>\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        app: state.app \r\n    }\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps)(MainLayout))"]},"metadata":{},"sourceType":"module"}