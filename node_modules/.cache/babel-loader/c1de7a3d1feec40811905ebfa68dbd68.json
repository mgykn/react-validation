{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\taertan\\\\git\\\\onemessaging\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\taertan\\\\git\\\\onemessaging\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\taertan\\\\git\\\\onemessaging\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\taertan\\\\git\\\\onemessaging\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\taertan\\\\git\\\\onemessaging\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\taertan\\\\git\\\\onemessaging\\\\src\\\\components\\\\message\\\\index.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { dispatchItem } from '../../actions/actions';\nimport { scrollToTop } from '../../actions/utils';\n\nvar Message =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Message, _React$Component);\n\n  function Message(props) {\n    var _this;\n\n    _classCallCheck(this, Message);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Message).call(this, props));\n    _this.state = {\n      message: '',\n      isError: false,\n      timeoutFunction: null\n    };\n    return _this;\n  }\n\n  _createClass(Message, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      if (nextProps.app.notification.message) {\n        if (this.state.timeoutFunction != null) {\n          window.clearTimeout(this.state.timeoutFunction);\n        }\n\n        this.setState({\n          message: nextProps.app.notification.message,\n          isError: nextProps.app.notification.isError,\n          waitingForReset: true\n        });\n        var timeoutFunction = setTimeout(function () {\n          this.setState({\n            message: '',\n            isError: false,\n            timeoutFunction: null\n          });\n          this.props.dispatch(dispatchItem('NOTIFICATION', {\n            message: '',\n            isError: false\n          }));\n        }.bind(this), 7000);\n        this.setState({\n          timeoutFunction: timeoutFunction\n        });\n        scrollToTop();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, this.state.message && React.createElement(\"div\", {\n        className: \"notification\" + (this.state.isError ? \" error\" : \"\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, this.state.message));\n    }\n  }]);\n\n  return Message;\n}(React.Component);\n\nfunction mapStateToProps(state) {\n  return {\n    app: state.app\n  };\n}\n\nexport default connect(mapStateToProps)(Message);","map":{"version":3,"sources":["C:\\Users\\taertan\\git\\onemessaging\\src\\components\\message\\index.js"],"names":["React","connect","dispatchItem","scrollToTop","Message","props","state","message","isError","timeoutFunction","nextProps","app","notification","window","clearTimeout","setState","waitingForReset","setTimeout","dispatch","bind","Component","mapStateToProps"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,SAASC,YAAT,QAA6B,uBAA7B;AACA,SAASC,WAAT,QAA4B,qBAA5B;;IAEMC,O;;;;;AACF,mBAAYC,KAAZ,EAAkB;AAAA;;AAAA;;AAChB,iFAAMA,KAAN;AAEA,UAAKC,KAAL,GAAa;AACXC,MAAAA,OAAO,EAAE,EADE;AAEXC,MAAAA,OAAO,EAAE,KAFE;AAGXC,MAAAA,eAAe,EAAE;AAHN,KAAb;AAHgB;AAQjB;;;;8CAEyBC,S,EAC1B;AACE,UAAGA,SAAS,CAACC,GAAV,CAAcC,YAAd,CAA2BL,OAA9B,EACA;AACE,YAAG,KAAKD,KAAL,CAAWG,eAAX,IAA8B,IAAjC,EACA;AACEI,UAAAA,MAAM,CAACC,YAAP,CAAoB,KAAKR,KAAL,CAAWG,eAA/B;AACD;;AAED,aAAKM,QAAL,CAAc;AACZR,UAAAA,OAAO,EAAEG,SAAS,CAACC,GAAV,CAAcC,YAAd,CAA2BL,OADxB;AAEZC,UAAAA,OAAO,EAAEE,SAAS,CAACC,GAAV,CAAcC,YAAd,CAA2BJ,OAFxB;AAGZQ,UAAAA,eAAe,EAAE;AAHL,SAAd;AAMA,YAAIP,eAAe,GAAGQ,UAAU,CAC9B,YAAW;AACT,eAAKF,QAAL,CAAc;AACZR,YAAAA,OAAO,EAAE,EADG;AAEZC,YAAAA,OAAO,EAAE,KAFG;AAGZC,YAAAA,eAAe,EAAE;AAHL,WAAd;AAKA,eAAKJ,KAAL,CAAWa,QAAX,CAAoBhB,YAAY,CAAC,cAAD,EAAiB;AAAEK,YAAAA,OAAO,EAAE,EAAX;AAAeC,YAAAA,OAAO,EAAE;AAAxB,WAAjB,CAAhC;AACH,SAPC,CAOAW,IAPA,CAOK,IAPL,CAD8B,EAQlB,IARkB,CAAhC;AAUA,aAAKJ,QAAL,CAAc;AACZN,UAAAA,eAAe,EAAEA;AADL,SAAd;AAIAN,QAAAA,WAAW;AACZ;AACF;;;6BAEQ;AACP,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKG,KAAL,CAAWC,OAAX,IACC;AAAK,QAAA,SAAS,EAAE,kBAAkB,KAAKD,KAAL,CAAWE,OAAX,GAAqB,QAArB,GAAgC,EAAlD,CAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACK,KAAKF,KAAL,CAAWC,OADhB,CAFJ,CADF;AASD;;;;EAtDiBP,KAAK,CAACoB,S;;AAyD1B,SAASC,eAAT,CAAyBf,KAAzB,EAAgC;AAC5B,SAAO;AACHK,IAAAA,GAAG,EAAEL,KAAK,CAACK;AADR,GAAP;AAGH;;AAED,eAAeV,OAAO,CAACoB,eAAD,CAAP,CAAyBjB,OAAzB,CAAf","sourcesContent":["import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport { dispatchItem } from '../../actions/actions';\r\nimport { scrollToTop } from '../../actions/utils';\r\n\r\nclass Message extends React.Component {\r\n    constructor(props){\r\n      super(props);\r\n\r\n      this.state = {\r\n        message: '',\r\n        isError: false,\r\n        timeoutFunction: null\r\n      }\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps)\r\n    {\r\n      if(nextProps.app.notification.message)\r\n      {\r\n        if(this.state.timeoutFunction != null)\r\n        {\r\n          window.clearTimeout(this.state.timeoutFunction);\r\n        }\r\n\r\n        this.setState({\r\n          message: nextProps.app.notification.message,\r\n          isError: nextProps.app.notification.isError,\r\n          waitingForReset: true\r\n        });\r\n\r\n        var timeoutFunction = setTimeout(\r\n          function() {\r\n            this.setState({\r\n              message: '',\r\n              isError: false,\r\n              timeoutFunction: null\r\n            });\r\n            this.props.dispatch(dispatchItem('NOTIFICATION', { message: '', isError: false }));\r\n        }.bind(this), 7000);\r\n\r\n        this.setState({\r\n          timeoutFunction: timeoutFunction\r\n        });\r\n        \r\n        scrollToTop();\r\n      }\r\n    }\r\n    \r\n    render() {\r\n      return (\r\n        <div>\r\n          {this.state.message &&\r\n            <div className={\"notification\" + (this.state.isError ? \" error\" : \"\")}>\r\n                {this.state.message}\r\n            </div>\r\n          }\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  function mapStateToProps(state) {\r\n      return {\r\n          app: state.app \r\n      }\r\n  }\r\n  \r\n  export default connect(mapStateToProps)(Message);"]},"metadata":{},"sourceType":"module"}