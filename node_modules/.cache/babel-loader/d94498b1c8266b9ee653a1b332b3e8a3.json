{"ast":null,"code":"import _classCallCheck from \"/Users/mugeyakin/Projects/react/react-validation/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/mugeyakin/Projects/react/react-validation/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/mugeyakin/Projects/react/react-validation/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/mugeyakin/Projects/react/react-validation/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/Users/mugeyakin/Projects/react/react-validation/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/mugeyakin/Projects/react/react-validation/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/mugeyakin/Projects/react/react-validation/src/pages/Agent/User/list.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { BrowserRouter as Router, Link } from \"react-router-dom\";\nimport Breadcrumb from '../../../components/breadcrumb/index';\nimport Message from '../../../components/message/index';\nimport { companies, dispatchItem } from '../../../actions/actions';\nimport LeftDetail from '../Company/_leftDetail';\nimport UserDetail from './detail';\nimport { accordion } from '../../../assets/scripts/custom';\n\nvar UserList =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(UserList, _React$Component);\n\n  function UserList(props) {\n    var _this;\n\n    _classCallCheck(this, UserList);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(UserList).call(this, props));\n    _this.state = {\n      searchText: ''\n    };\n    _this.getCompanyList = _this.getCompanyList.bind(_assertThisInitialized(_this));\n    _this.handleSearch = _this.handleSearch.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(UserList, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      accordion();\n\n      if (this.props.app.agent.companies.length < 1) {\n        this.getCompanyList();\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState, snapshot) {\n      accordion();\n    }\n  }, {\n    key: \"getCompanyList\",\n    value: function getCompanyList() {\n      var _this2 = this;\n\n      this.props.dispatch(companies({}, function (data) {\n        _this2.props.dispatch(dispatchItem(\"COMPANY_LIST\", data.customerResponse));\n      }, function () {}));\n    }\n  }, {\n    key: \"handleSearch\",\n    value: function handleSearch(e) {\n      this.setState({\n        searchText: e.target.value\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var companyId = this.props.match.params.id;\n      var filterCompany = this.props.app.agent.companies.filter(function (item) {\n        return item.companyId === companyId;\n      });\n      var company = filterCompany.length > 0 ? filterCompany[0] : null;\n      var breadcrumbItems = [{\n        name: 'Ana Sayfa',\n        link: '/'\n      }, {\n        name: 'Müşteriler',\n        link: '/agent/company/list'\n      }, {\n        name: company ? company.companyName : \"\",\n        link: '/agent/company/detail/' + (company ? company.companyId : \"\")\n      }, {\n        name: \"Kullanıcılar\"\n      }];\n      return [React.createElement(Breadcrumb, {\n        items: breadcrumbItems,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }), React.createElement(\"section\", {\n        className: \"panel\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(Message, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(LeftDetail, {\n        item: company,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }), company && React.createElement(\"div\", {\n        className: \"right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"title-default with-close\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(Link, {\n        id: \"user-list-userlist\",\n        className: \"btn-back\",\n        to: \"/agent/company/detail/\" + company.companyId,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, \"Kapat\"), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, \"Kullan\\u0131c\\u0131 Listesi\")), React.createElement(\"div\", {\n        className: \"agent-detail-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"column\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(Link, {\n        id: \"user-list-addnew\",\n        className: \"form-btn-add\",\n        to: \"/agent/company/detail/\" + company.companyId + \"/users/create\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, \"+ Yeni m\\xFC\\u015Fteri ekle\")), React.createElement(\"div\", {\n        className: \"column\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"search\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        placeholder: \"Kullan\\u0131c\\u0131lar i\\xE7inde ara\",\n        value: this.state.searchText,\n        onChange: this.handleSearch,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }))))), React.createElement(\"div\", {\n        className: \"accordion agent-customers\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, company.userResponse && company.userResponse.map(function (item, i) {\n        if (item.userName.toLowerCase().indexOf(_this3.state.searchText.toLowerCase()) >= 0) return React.createElement(\"div\", {\n          className: \"accordion-item\",\n          key: \"company_user_\" + i,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"accordion-header status\" + (item.userStatus == \"ACTIVE\" ? \" green\" : item.userStatus == \"WAITING\" ? \" yellow\" : \"\"),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 108\n          },\n          __self: this\n        }, item.userName), React.createElement(\"div\", {\n          className: \"accordion-body\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 111\n          },\n          __self: this\n        }, React.createElement(UserDetail, {\n          item: item,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 112\n          },\n          __self: this\n        })));\n      })))))];\n    }\n  }]);\n\n  return UserList;\n}(React.Component);\n\nfunction mapStateToProps(state) {\n  return {\n    app: state.app\n  };\n}\n\nexport default connect(mapStateToProps)(UserList);","map":{"version":3,"sources":["/Users/mugeyakin/Projects/react/react-validation/src/pages/Agent/User/list.js"],"names":["React","connect","BrowserRouter","Router","Link","Breadcrumb","Message","companies","dispatchItem","LeftDetail","UserDetail","accordion","UserList","props","state","searchText","getCompanyList","bind","handleSearch","app","agent","length","prevProps","prevState","snapshot","dispatch","data","customerResponse","e","setState","target","value","companyId","match","params","id","filterCompany","filter","item","company","breadcrumbItems","name","link","companyName","userResponse","map","i","userName","toLowerCase","indexOf","userStatus","Component","mapStateToProps"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {connect} from 'react-redux';\nimport {\n  BrowserRouter as Router,\n  Link\n} from \"react-router-dom\";\nimport Breadcrumb from '../../../components/breadcrumb/index';\nimport Message from '../../../components/message/index';\nimport { companies, dispatchItem } from '../../../actions/actions';\nimport LeftDetail from '../Company/_leftDetail';\nimport UserDetail from './detail';\nimport { accordion } from '../../../assets/scripts/custom';\n\nclass UserList extends React.Component {\n    constructor(props)\n    {\n        super(props);\n\n        this.state = {\n            searchText: ''\n        }\n\n        this.getCompanyList = this.getCompanyList.bind(this);\n        this.handleSearch = this.handleSearch.bind(this);\n    }\n\n    componentDidMount() {\n        accordion();\n        if (this.props.app.agent.companies.length < 1) {\n            this.getCompanyList();\n        }\n    }\n\n    componentDidUpdate(prevProps, prevState, snapshot)\n    {\n        accordion();\n    }\n\n    getCompanyList() {\n        this.props.dispatch(companies({}, (data) => {\n            this.props.dispatch(dispatchItem(\"COMPANY_LIST\", data.customerResponse));\n        }, () => {\n\n        }));\n    }\n\n    handleSearch(e) {\n        this.setState({\n            searchText: e.target.value \n        })\n    }\n\n    render() {\n        var companyId = this.props.match.params.id;\n        var filterCompany = this.props.app.agent.companies.filter(function (item) {\n                            return item.companyId === companyId;\n                        });\n\n        var company = filterCompany.length > 0 ? filterCompany[0] : null;\n        \n        const breadcrumbItems = [{\n            name: 'Ana Sayfa',\n            link: '/'\n        },{\n            name: 'Müşteriler',\n            link : '/agent/company/list'\n        },{\n            name: (company ? company.companyName : \"\"),\n            link : '/agent/company/detail/' + (company ? company.companyId : \"\")\n        },{\n            name: \"Kullanıcılar\"\n        }];\n\n        return (\n        [\n          <Breadcrumb items={breadcrumbItems} />,\n          <section className=\"panel\">\n            <Message />\n            <div className=\"container\">\n                <LeftDetail item={company} />\n                {company &&\n                    <div className=\"right\">\n                        <div className=\"title-default with-close\">\n                            <Link id={\"user-list-userlist\"} className=\"btn-back\" to={\"/agent/company/detail/\" + company.companyId}>\n                                Kapat\n                            </Link>\n                            <span>Kullanıcı Listesi</span>\n                        </div>\n                        <div className=\"agent-detail-header\">\n                            <div className=\"column\">\n                                <Link id={\"user-list-addnew\"} className=\"form-btn-add\" to={\"/agent/company/detail/\" + company.companyId + \"/users/create\"}>\n                                    + Yeni müşteri ekle\n                                </Link>\n                            </div>\n                            <div className=\"column\">\n                                <div className=\"search\">\n                                    <div className=\"form-item\">\n                                        <input type=\"text\" placeholder=\"Kullanıcılar içinde ara\" value={this.state.searchText} onChange={this.handleSearch} />\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        <div className=\"accordion agent-customers\">\n                            {company.userResponse && company.userResponse.map((item, i) => \n                                {if(item.userName.toLowerCase().indexOf(this.state.searchText.toLowerCase()) >= 0) \n                                    return (\n                                        <div className=\"accordion-item\" key={\"company_user_\" + i}>\n                                            <div className={(\"accordion-header status\" + (item.userStatus == \"ACTIVE\" ? \" green\" : (item.userStatus == \"WAITING\" ? \" yellow\" : \"\")))}>\n                                                {item.userName}\n                                            </div>\n                                            <div className=\"accordion-body\">\n                                                <UserDetail item={item} />\n                                            </div>\n                                        </div>    \n                                    )\n                                }\n                            )}\n                        </div>\n                    </div>\n                }\n            </div>\n          </section>\n        ]\n      );\n    }\n  }\n\n  function mapStateToProps(state) {\n      return {\n          app: state.app \n      }\n  }\n\n  export default connect(mapStateToProps)(UserList)"]},"metadata":{},"sourceType":"module"}