{"ast":null,"code":"import _classCallCheck from \"/Users/mugeyakin/Projects/react/react-validation/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/mugeyakin/Projects/react/react-validation/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/mugeyakin/Projects/react/react-validation/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/mugeyakin/Projects/react/react-validation/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/Users/mugeyakin/Projects/react/react-validation/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/mugeyakin/Projects/react/react-validation/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/mugeyakin/Projects/react/react-validation/src/pages/Agent/Product/detail.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport Form from '../../../components/form/form';\nimport Button from '../../../components/form/button';\nimport { companies, updateProduct, dispatchItem } from '../../../actions/actions';\nimport { scrollToTop } from '../../../actions/utils';\n\nvar ProductDetail =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ProductDetail, _React$Component);\n\n  function ProductDetail(props) {\n    var _this;\n\n    _classCallCheck(this, ProductDetail);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ProductDetail).call(this, props));\n    _this.state = {\n      isEdit: false,\n      formModel: {\n        committedAmountOfUnit: {\n          value: _this.props.item.committedAmountOfUnit,\n          name: 'committedAmountOfUnit',\n          type: 'text',\n          label: 'Taahhüt Adedi',\n          placeholder: 'Taahhüt adedi',\n          error: 'Lütfen taahhüt Adedi girin.',\n          valid: false,\n          touched: false,\n          validationRules: {\n            isRequired: true,\n            isDecimal: true\n          }\n        },\n        productType: {\n          value: _this.props.item.productType,\n          name: 'productType',\n          type: 'select',\n          label: 'Ürün Detayı',\n          placeholder: 'Ürün detayı',\n          error: 'Lütfen ürün detayı girin.',\n          options: [{\n            name: 'SMS',\n            value: 'SMS'\n          }, {\n            name: 'Fast SMS',\n            value: 'Fast SMS'\n          }, {\n            name: 'MMS',\n            value: 'MMS'\n          }, {\n            name: 'TCKN',\n            value: 'TCKN'\n          }, {\n            name: 'WAPPUSH',\n            value: 'WAPPUSH'\n          }, {\n            name: 'IVR',\n            value: 'IVR'\n          }],\n          valid: false,\n          touched: false,\n          validationRules: {\n            isRequired: true\n          }\n        },\n        tariffPlan: {\n          value: _this.props.item.tariffPlan,\n          name: 'tariffPlan',\n          type: 'text',\n          label: 'Tarife Detayı',\n          placeholder: 'Tarife Detayı',\n          error: 'Lütfen tarife detayı girin.',\n          valid: false,\n          touched: false,\n          validationRules: {\n            isRequired: true\n          }\n        },\n        unitPrice: {\n          value: _this.props.item.unitPrice,\n          name: 'unitPrice',\n          type: 'text',\n          label: 'Birim Fiyatı (TL)',\n          placeholder: 'Birim fiyatı (TL)',\n          error: 'Lütfen birim fiyatı girin.',\n          valid: false,\n          touched: false,\n          validationRules: {\n            isRequired: true,\n            isDecimal: true\n          }\n        },\n        virtualNumber: {\n          value: _this.props.item.virtualNumber,\n          name: 'virtualNumber',\n          type: 'virtualPhone',\n          label: 'Sanal No',\n          placeholder: 'Sanal no',\n          error: 'Lütfen sanal no girin.',\n          valid: false,\n          touched: false,\n          validationRules: {\n            isRequired: true\n          }\n        }\n      }\n    };\n    _this.activateEditState = _this.activateEditState.bind(_assertThisInitialized(_this));\n    _this.getCompanyList = _this.getCompanyList.bind(_assertThisInitialized(_this));\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(ProductDetail, [{\n    key: \"handleSubmit\",\n    value: function handleSubmit(data) {\n      var _this2 = this;\n\n      data[\"productId\"] = this.props.item.productId;\n      this.props.dispatch(updateProduct(data, function (data) {\n        _this2.getCompanyList(function () {\n          _this2.setState({\n            isEdit: false\n          });\n\n          scrollToTop();\n        });\n      }, function (data) {\n        scrollToTop();\n      }));\n    }\n  }, {\n    key: \"activateEditState\",\n    value: function activateEditState(activate) {\n      this.setState({\n        isEdit: activate\n      });\n    }\n  }, {\n    key: \"getCompanyList\",\n    value: function getCompanyList(successFunc) {\n      var _this3 = this;\n\n      this.props.dispatch(companies({}, function (data) {\n        _this3.props.dispatch(dispatchItem(\"COMPANY_LIST\", data.customerResponse));\n\n        if (successFunc) {\n          successFunc();\n        }\n      }, function () {}));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      return React.createElement(\"div\", {\n        className: \"items\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, !this.state.isEdit && [React.createElement(\"div\", {\n        className: \"item-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, \"Taahh\\xFCt Adeti\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, this.props.item.committedAmountOfUnit)), React.createElement(\"div\", {\n        className: \"item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, \"\\xDCr\\xFCn Detay\\u0131\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, this.props.item.productType)), React.createElement(\"div\", {\n        className: \"item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, \"Tarife Detay\\u0131\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, this.props.item.tariffPlan)), React.createElement(\"div\", {\n        className: \"item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, \"Birim Fiyat\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, this.props.item.unitPrice)), React.createElement(\"div\", {\n        className: \"item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, \"Sanal No\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, this.props.item.virtualNumber))), React.createElement(\"div\", {\n        className: \"item-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, React.createElement(Button, {\n        disabled: false,\n        extraClass: \"tertiary\",\n        onClick: function onClick() {\n          return _this4.activateEditState(true);\n        },\n        text: \"Bilgileri Düzenle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      })))], this.state.isEdit && React.createElement(\"div\", {\n        className: \"form-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }, React.createElement(Form, {\n        model: this.state.formModel,\n        handleSubmit: this.handleSubmit,\n        smallTitle: \"\",\n        buttonText: \"Kaydet\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }), React.createElement(Button, {\n        disabled: false,\n        extraClass: \"secondary\",\n        onClick: function onClick() {\n          return _this4.activateEditState(false);\n        },\n        text: \"Vazgeç\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return ProductDetail;\n}(React.Component);\n\nfunction mapStateToProps(state) {\n  return {\n    app: state.app\n  };\n}\n\nexport default connect(mapStateToProps)(ProductDetail);","map":{"version":3,"sources":["/Users/mugeyakin/Projects/react/react-validation/src/pages/Agent/Product/detail.js"],"names":["React","connect","Form","Button","companies","updateProduct","dispatchItem","scrollToTop","ProductDetail","props","state","isEdit","formModel","committedAmountOfUnit","value","item","name","type","label","placeholder","error","valid","touched","validationRules","isRequired","isDecimal","productType","options","tariffPlan","unitPrice","virtualNumber","activateEditState","bind","getCompanyList","handleSubmit","data","productId","dispatch","setState","activate","successFunc","customerResponse","Component","mapStateToProps","app"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,OAAOC,IAAP,MAAiB,+BAAjB;AACA,OAAOC,MAAP,MAAmB,iCAAnB;AACA,SAASC,SAAT,EAAoBC,aAApB,EAAmCC,YAAnC,QAAuD,0BAAvD;AACA,SAASC,WAAT,QAA4B,wBAA5B;;IAEMC,a;;;;;AACF,yBAAYC,KAAZ,EACA;AAAA;;AAAA;;AACI,uFAAMA,KAAN;AAEA,UAAKC,KAAL,GAAa;AACTC,MAAAA,MAAM,EAAE,KADC;AAETC,MAAAA,SAAS,EAAE;AACPC,QAAAA,qBAAqB,EAAE;AACnBC,UAAAA,KAAK,EAAE,MAAKL,KAAL,CAAWM,IAAX,CAAgBF,qBADJ;AAEnBG,UAAAA,IAAI,EAAE,uBAFa;AAGnBC,UAAAA,IAAI,EAAE,MAHa;AAInBC,UAAAA,KAAK,EAAE,eAJY;AAKnBC,UAAAA,WAAW,EAAE,eALM;AAMnBC,UAAAA,KAAK,EAAE,6BANY;AAOnBC,UAAAA,KAAK,EAAE,KAPY;AAQnBC,UAAAA,OAAO,EAAE,KARU;AASnBC,UAAAA,eAAe,EAAE;AACbC,YAAAA,UAAU,EAAE,IADC;AAEbC,YAAAA,SAAS,EAAE;AAFE;AATE,SADhB;AAePC,QAAAA,WAAW,EAAE;AACTZ,UAAAA,KAAK,EAAE,MAAKL,KAAL,CAAWM,IAAX,CAAgBW,WADd;AAETV,UAAAA,IAAI,EAAE,aAFG;AAGTC,UAAAA,IAAI,EAAE,QAHG;AAITC,UAAAA,KAAK,EAAE,aAJE;AAKTC,UAAAA,WAAW,EAAE,aALJ;AAMTC,UAAAA,KAAK,EAAE,2BANE;AAOTO,UAAAA,OAAO,EAAE,CACL;AACIX,YAAAA,IAAI,EAAE,KADV;AAEIF,YAAAA,KAAK,EAAE;AAFX,WADK,EAKL;AACIE,YAAAA,IAAI,EAAE,UADV;AAEIF,YAAAA,KAAK,EAAE;AAFX,WALK,EASL;AACIE,YAAAA,IAAI,EAAE,KADV;AAEIF,YAAAA,KAAK,EAAE;AAFX,WATK,EAaL;AACIE,YAAAA,IAAI,EAAE,MADV;AAEIF,YAAAA,KAAK,EAAE;AAFX,WAbK,EAiBL;AACIE,YAAAA,IAAI,EAAE,SADV;AAEIF,YAAAA,KAAK,EAAE;AAFX,WAjBK,EAqBL;AACIE,YAAAA,IAAI,EAAE,KADV;AAEIF,YAAAA,KAAK,EAAE;AAFX,WArBK,CAPA;AAiCTO,UAAAA,KAAK,EAAE,KAjCE;AAkCTC,UAAAA,OAAO,EAAE,KAlCA;AAmCTC,UAAAA,eAAe,EAAE;AACbC,YAAAA,UAAU,EAAE;AADC;AAnCR,SAfN;AAsDPI,QAAAA,UAAU,EAAE;AACRd,UAAAA,KAAK,EAAE,MAAKL,KAAL,CAAWM,IAAX,CAAgBa,UADf;AAERZ,UAAAA,IAAI,EAAE,YAFE;AAGRC,UAAAA,IAAI,EAAE,MAHE;AAIRC,UAAAA,KAAK,EAAE,eAJC;AAKRC,UAAAA,WAAW,EAAE,eALL;AAMRC,UAAAA,KAAK,EAAE,6BANC;AAORC,UAAAA,KAAK,EAAE,KAPC;AAQRC,UAAAA,OAAO,EAAE,KARD;AASRC,UAAAA,eAAe,EAAE;AACbC,YAAAA,UAAU,EAAE;AADC;AATT,SAtDL;AAmEPK,QAAAA,SAAS,EAAE;AACPf,UAAAA,KAAK,EAAE,MAAKL,KAAL,CAAWM,IAAX,CAAgBc,SADhB;AAEPb,UAAAA,IAAI,EAAE,WAFC;AAGPC,UAAAA,IAAI,EAAE,MAHC;AAIPC,UAAAA,KAAK,EAAE,mBAJA;AAKPC,UAAAA,WAAW,EAAE,mBALN;AAMPC,UAAAA,KAAK,EAAE,4BANA;AAOPC,UAAAA,KAAK,EAAE,KAPA;AAQPC,UAAAA,OAAO,EAAE,KARF;AASPC,UAAAA,eAAe,EAAE;AACbC,YAAAA,UAAU,EAAE,IADC;AAEbC,YAAAA,SAAS,EAAE;AAFE;AATV,SAnEJ;AAiFPK,QAAAA,aAAa,EAAE;AACXhB,UAAAA,KAAK,EAAE,MAAKL,KAAL,CAAWM,IAAX,CAAgBe,aADZ;AAEXd,UAAAA,IAAI,EAAE,eAFK;AAGXC,UAAAA,IAAI,EAAE,cAHK;AAIXC,UAAAA,KAAK,EAAE,UAJI;AAKXC,UAAAA,WAAW,EAAE,UALF;AAMXC,UAAAA,KAAK,EAAE,wBANI;AAOXC,UAAAA,KAAK,EAAE,KAPI;AAQXC,UAAAA,OAAO,EAAE,KARE;AASXC,UAAAA,eAAe,EAAE;AACbC,YAAAA,UAAU,EAAE;AADC;AATN;AAjFR;AAFF,KAAb;AAmGA,UAAKO,iBAAL,GAAyB,MAAKA,iBAAL,CAAuBC,IAAvB,+BAAzB;AACA,UAAKC,cAAL,GAAsB,MAAKA,cAAL,CAAoBD,IAApB,+BAAtB;AACA,UAAKE,YAAL,GAAoB,MAAKA,YAAL,CAAkBF,IAAlB,+BAApB;AAxGJ;AAyGC;;;;iCAEYG,I,EACb;AAAA;;AACIA,MAAAA,IAAI,CAAC,WAAD,CAAJ,GAAoB,KAAK1B,KAAL,CAAWM,IAAX,CAAgBqB,SAApC;AAEA,WAAK3B,KAAL,CAAW4B,QAAX,CAAoBhC,aAAa,CAAC8B,IAAD,EAAO,UAACA,IAAD,EAAU;AAC9C,QAAA,MAAI,CAACF,cAAL,CAAoB,YAAM;AACtB,UAAA,MAAI,CAACK,QAAL,CAAc;AACV3B,YAAAA,MAAM,EAAE;AADE,WAAd;;AAGAJ,UAAAA,WAAW;AACd,SALD;AAMH,OAPgC,EAO9B,UAAC4B,IAAD,EAAU;AACT5B,QAAAA,WAAW;AACd,OATgC,CAAjC;AAUH;;;sCAEiBgC,Q,EAClB;AACI,WAAKD,QAAL,CAAc;AACV3B,QAAAA,MAAM,EAAE4B;AADE,OAAd;AAGH;;;mCAEcC,W,EAAa;AAAA;;AACxB,WAAK/B,KAAL,CAAW4B,QAAX,CAAoBjC,SAAS,CAAC,EAAD,EAAK,UAAC+B,IAAD,EAAU;AACxC,QAAA,MAAI,CAAC1B,KAAL,CAAW4B,QAAX,CAAoB/B,YAAY,CAAC,cAAD,EAAiB6B,IAAI,CAACM,gBAAtB,CAAhC;;AACA,YAAGD,WAAH,EACA;AACIA,UAAAA,WAAW;AACd;AACJ,OAN4B,EAM1B,YAAM,CAER,CAR4B,CAA7B;AASH;;;6BAEQ;AAAA;;AACL,aACI;AAAK,QAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACK,CAAC,KAAK9B,KAAL,CAAWC,MAAZ,IACG,CACI;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAM,KAAKF,KAAL,CAAWM,IAAX,CAAgBF,qBAAtB,CAFJ,CADJ,EAKI;AAAK,QAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAM,KAAKJ,KAAL,CAAWM,IAAX,CAAgBW,WAAtB,CAFJ,CALJ,EASI;AAAK,QAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAM,KAAKjB,KAAL,CAAWM,IAAX,CAAgBa,UAAtB,CAFJ,CATJ,EAaI;AAAK,QAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAM,KAAKnB,KAAL,CAAWM,IAAX,CAAgBc,SAAtB,CAFJ,CAbJ,EAiBI;AAAK,QAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAM,KAAKpB,KAAL,CAAWM,IAAX,CAAgBe,aAAtB,CAFJ,CAjBJ,CADJ,EAuBI;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,MAAD;AAAQ,QAAA,QAAQ,EAAE,KAAlB;AAAyB,QAAA,UAAU,EAAE,UAArC;AAAiD,QAAA,OAAO,EAAE;AAAA,iBAAM,MAAI,CAACC,iBAAL,CAAuB,IAAvB,CAAN;AAAA,SAA1D;AAA8F,QAAA,IAAI,EAAE,mBAApG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CADJ,EAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJJ,CADJ,CAvBJ,CAFR,EAmCK,KAAKrB,KAAL,CAAWC,MAAX,IACG;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE,KAAKD,KAAL,CAAWE,SAAxB;AAAmC,QAAA,YAAY,EAAE,KAAKsB,YAAtD;AAAoE,QAAA,UAAU,EAAE,EAAhF;AAAoF,QAAA,UAAU,EAAE,QAAhG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAEI,oBAAC,MAAD;AAAQ,QAAA,QAAQ,EAAE,KAAlB;AAAyB,QAAA,UAAU,EAAE,WAArC;AAAkD,QAAA,OAAO,EAAE;AAAA,iBAAM,MAAI,CAACH,iBAAL,CAAuB,KAAvB,CAAN;AAAA,SAA3D;AAAgG,QAAA,IAAI,EAAE,QAAtG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,CApCR,CADJ;AA4CH;;;;EA7LuB/B,KAAK,CAAC0C,S;;AAgMhC,SAASC,eAAT,CAAyBjC,KAAzB,EAAgC;AAC5B,SAAO;AACHkC,IAAAA,GAAG,EAAElC,KAAK,CAACkC;AADR,GAAP;AAGH;;AAED,eAAe3C,OAAO,CAAC0C,eAAD,CAAP,CAAyBnC,aAAzB,CAAf","sourcesContent":["import React from 'react';\nimport {connect} from 'react-redux';\nimport Form from '../../../components/form/form';\nimport Button from '../../../components/form/button';\nimport { companies, updateProduct, dispatchItem } from '../../../actions/actions';\nimport { scrollToTop } from '../../../actions/utils';\n\nclass ProductDetail extends React.Component {\n    constructor(props)\n    {\n        super(props);\n        \n        this.state = {\n            isEdit: false,\n            formModel: {\n                committedAmountOfUnit: {\n                    value: this.props.item.committedAmountOfUnit,\n                    name: 'committedAmountOfUnit',\n                    type: 'text',\n                    label: 'Taahhüt Adedi',\n                    placeholder: 'Taahhüt adedi',\n                    error: 'Lütfen taahhüt Adedi girin.',\n                    valid: false,\n                    touched: false,\n                    validationRules: {\n                        isRequired: true,\n                        isDecimal: true\n                    }\n                },\n                productType: {\n                    value: this.props.item.productType,\n                    name: 'productType',\n                    type: 'select',\n                    label: 'Ürün Detayı',\n                    placeholder: 'Ürün detayı',\n                    error: 'Lütfen ürün detayı girin.',\n                    options: [\n                        {\n                            name: 'SMS',\n                            value: 'SMS'\n                        },\n                        {\n                            name: 'Fast SMS',\n                            value: 'Fast SMS'\n                        },\n                        {\n                            name: 'MMS',\n                            value: 'MMS'\n                        },\n                        {\n                            name: 'TCKN',\n                            value: 'TCKN'\n                        },\n                        {\n                            name: 'WAPPUSH',\n                            value: 'WAPPUSH'\n                        },\n                        {\n                            name: 'IVR',\n                            value: 'IVR'\n                        }\n                    ],\n                    valid: false,\n                    touched: false,\n                    validationRules: {\n                        isRequired: true\n                    }\n                },\n                tariffPlan: {\n                    value: this.props.item.tariffPlan,\n                    name: 'tariffPlan',\n                    type: 'text',\n                    label: 'Tarife Detayı',\n                    placeholder: 'Tarife Detayı',\n                    error: 'Lütfen tarife detayı girin.',\n                    valid: false,\n                    touched: false,\n                    validationRules: {\n                        isRequired: true\n                    }\n                },\n                unitPrice: {\n                    value: this.props.item.unitPrice,\n                    name: 'unitPrice',\n                    type: 'text',\n                    label: 'Birim Fiyatı (TL)',\n                    placeholder: 'Birim fiyatı (TL)',\n                    error: 'Lütfen birim fiyatı girin.',\n                    valid: false,\n                    touched: false,\n                    validationRules: {\n                        isRequired: true,\n                        isDecimal: true\n                    }\n                },\n                virtualNumber: {\n                    value: this.props.item.virtualNumber,\n                    name: 'virtualNumber',\n                    type: 'virtualPhone',\n                    label: 'Sanal No',\n                    placeholder: 'Sanal no',\n                    error: 'Lütfen sanal no girin.',\n                    valid: false,\n                    touched: false,\n                    validationRules: {\n                        isRequired: true\n                    }\n                }\n            }\n        };\n\n        this.activateEditState = this.activateEditState.bind(this);\n        this.getCompanyList = this.getCompanyList.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n    }\n\n    handleSubmit(data)\n    {\n        data[\"productId\"] = this.props.item.productId;\n                \n        this.props.dispatch(updateProduct(data, (data) => {\n            this.getCompanyList(() => {\n                this.setState({\n                    isEdit: false\n                });\n                scrollToTop();\n            });\n        }, (data) => {\n            scrollToTop();\n        }));\n    }\n\n    activateEditState(activate)\n    {\n        this.setState({\n            isEdit: activate\n        });\n    }\n\n    getCompanyList(successFunc) {\n        this.props.dispatch(companies({}, (data) => {\n            this.props.dispatch(dispatchItem(\"COMPANY_LIST\", data.customerResponse));\n            if(successFunc)\n            {\n                successFunc();\n            }\n        }, () => {\n\n        }));\n    }\n\n    render() {\n        return (\n            <div className=\"items\">\n                {!this.state.isEdit &&\n                    [\n                        <div className=\"item-container\">\n                            <div className=\"item\">\n                                <div>Taahhüt Adeti</div>\n                                <div>{this.props.item.committedAmountOfUnit}</div>\n                            </div>\n                            <div className=\"item\">\n                                <div>Ürün Detayı</div>\n                                <div>{this.props.item.productType}</div>\n                            </div>\n                            <div className=\"item\">\n                                <div>Tarife Detayı</div>\n                                <div>{this.props.item.tariffPlan}</div>\n                            </div>\n                            <div className=\"item\">\n                                <div>Birim Fiyat</div>\n                                <div>{this.props.item.unitPrice}</div>\n                            </div>\n                            <div className=\"item\">\n                                <div>Sanal No</div>\n                                <div>{this.props.item.virtualNumber}</div>\n                            </div>\n                        </div>,\n                        <div className=\"item-container\">\n                            <div className=\"item\">\n                                <div>\n                                    <Button disabled={false} extraClass={\"tertiary\"} onClick={() => this.activateEditState(true)} text={\"Bilgileri Düzenle\"} />\n                                </div>\n                                <div></div>\n                            </div>\n                        </div>\n                    ]\n                }\n                {this.state.isEdit &&\n                    <div className=\"form-container\">\n                        <Form model={this.state.formModel} handleSubmit={this.handleSubmit} smallTitle={\"\"} buttonText={\"Kaydet\"} />\n                        <Button disabled={false} extraClass={\"secondary\"} onClick={() => this.activateEditState(false)} text={\"Vazgeç\"} />\n                    </div>\n                }\n            </div>\n      );\n    }\n  }\n\n  function mapStateToProps(state) {\n      return {\n          app: state.app \n      }\n  }\n\n  export default connect(mapStateToProps)(ProductDetail)"]},"metadata":{},"sourceType":"module"}