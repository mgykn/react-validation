{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\taertan\\\\git\\\\onemessaging\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\taertan\\\\git\\\\onemessaging\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\taertan\\\\git\\\\onemessaging\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\taertan\\\\git\\\\onemessaging\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\taertan\\\\git\\\\onemessaging\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"C:\\\\Users\\\\taertan\\\\git\\\\onemessaging\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\taertan\\\\git\\\\onemessaging\\\\src\\\\pages\\\\Agent\\\\Product\\\\list.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { BrowserRouter as Router, Link } from \"react-router-dom\";\nimport Breadcrumb from '../../../components/breadcrumb/index';\nimport Message from '../../../components/message/index';\nimport { companies, dispatchItem } from '../../../actions/actions';\nimport LeftDetail from '../Company/_leftDetail';\nimport ProductDetail from './detail';\nimport { accordion } from '../../../assets/scripts/custom';\n\nvar CompanyDetailUsers =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(CompanyDetailUsers, _React$Component);\n\n  function CompanyDetailUsers(props) {\n    var _this;\n\n    _classCallCheck(this, CompanyDetailUsers);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CompanyDetailUsers).call(this, props));\n    _this.state = {\n      searchText: ''\n    };\n    _this.getCompanyList = _this.getCompanyList.bind(_assertThisInitialized(_this));\n    _this.handleSearch = _this.handleSearch.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(CompanyDetailUsers, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      accordion();\n\n      if (this.props.app.agent.companies.length < 1) {\n        this.getCompanyList();\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState, snapshot) {\n      accordion();\n    }\n  }, {\n    key: \"getCompanyList\",\n    value: function getCompanyList() {\n      var _this2 = this;\n\n      this.props.dispatch(companies({}, function (data) {\n        _this2.props.dispatch(dispatchItem(\"COMPANY_LIST\", data.customerResponse));\n      }, function () {}));\n    }\n  }, {\n    key: \"handleSearch\",\n    value: function handleSearch(e) {\n      this.setState({\n        searchText: e.target.value\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var companyId = this.props.match.params.id;\n      var filterCompany = this.props.app.agent.companies.filter(function (item) {\n        return item.companyId === companyId;\n      });\n      var company = filterCompany.length > 0 ? filterCompany[0] : null;\n      var breadcrumbItems = [{\n        name: 'Ana Sayfa',\n        link: '/'\n      }, {\n        name: 'Müşteriler',\n        link: '/agent/company/list'\n      }, {\n        name: company ? company.companyName : \"\",\n        link: '/agent/company/detail/' + (company ? company.companyId : \"\")\n      }, {\n        name: \"Ürünler\"\n      }];\n      return [React.createElement(Breadcrumb, {\n        items: breadcrumbItems,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }), React.createElement(\"section\", {\n        className: \"panel\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(Message, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(LeftDetail, {\n        item: company,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }), company && React.createElement(\"div\", {\n        className: \"right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"title-default with-close\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(Link, {\n        id: \"product-list-companyedit\",\n        className: \"btn-back\",\n        to: \"/agent/company/detail/\" + company.companyId,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, \"Kapat\"), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, \"T\\xFCm \\xDCr\\xFCnler\")), React.createElement(\"div\", {\n        className: \"agent-detail-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"column\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(Link, {\n        id: \"product-list-addnew\",\n        className: \"form-btn-add\",\n        to: \"/agent/company/detail/\" + company.companyId + \"/products/create\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, \"+ Yeni \\xFCr\\xFCn ekle\")), React.createElement(\"div\", {\n        className: \"column\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"search\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        placeholder: \"\\xDCr\\xFCnler i\\xE7inde ara\",\n        value: this.state.searchText,\n        onChange: this.handleSearch,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }))))), React.createElement(\"div\", {\n        className: \"accordion agent-products\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, company.productResponse && company.productResponse.map(function (item, i) {\n        if (item.productType.toLowerCase().indexOf(_this3.state.searchText.toLowerCase()) >= 0) return React.createElement(\"div\", {\n          className: \"accordion-item\",\n          key: \"company_product_\" + i,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"accordion-header\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 108\n          },\n          __self: this\n        }, item.productType), React.createElement(\"div\", {\n          className: \"accordion-body\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 111\n          },\n          __self: this\n        }, React.createElement(ProductDetail, {\n          item: item,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 112\n          },\n          __self: this\n        })));\n      })))))];\n    }\n  }]);\n\n  return CompanyDetailUsers;\n}(React.Component);\n\nfunction mapStateToProps(state) {\n  return {\n    app: state.app\n  };\n}\n\nexport default connect(mapStateToProps)(CompanyDetailUsers);","map":{"version":3,"sources":["C:\\Users\\taertan\\git\\onemessaging\\src\\pages\\Agent\\Product\\list.js"],"names":["React","connect","BrowserRouter","Router","Link","Breadcrumb","Message","companies","dispatchItem","LeftDetail","ProductDetail","accordion","CompanyDetailUsers","props","state","searchText","getCompanyList","bind","handleSearch","app","agent","length","prevProps","prevState","snapshot","dispatch","data","customerResponse","e","setState","target","value","companyId","match","params","id","filterCompany","filter","item","company","breadcrumbItems","name","link","companyName","productResponse","map","i","productType","toLowerCase","indexOf","Component","mapStateToProps"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {\r\n  BrowserRouter as Router,\r\n  Link\r\n} from \"react-router-dom\";\r\nimport Breadcrumb from '../../../components/breadcrumb/index';\r\nimport Message from '../../../components/message/index';\r\nimport { companies, dispatchItem } from '../../../actions/actions';\r\nimport LeftDetail from '../Company/_leftDetail';\r\nimport ProductDetail from './detail';\r\nimport { accordion } from '../../../assets/scripts/custom';\r\n\r\nclass CompanyDetailUsers extends React.Component {\r\n    constructor(props)\r\n    {\r\n        super(props);\r\n\r\n        this.state = {\r\n            searchText: ''\r\n        }\r\n\r\n        this.getCompanyList = this.getCompanyList.bind(this);\r\n        this.handleSearch = this.handleSearch.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        accordion();\r\n        if (this.props.app.agent.companies.length < 1) {\r\n            this.getCompanyList();\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot)\r\n    {\r\n        accordion();\r\n    }\r\n\r\n    getCompanyList() {\r\n        this.props.dispatch(companies({}, (data) => {\r\n            this.props.dispatch(dispatchItem(\"COMPANY_LIST\", data.customerResponse));\r\n        }, () => {\r\n\r\n        }));\r\n    }\r\n\r\n    handleSearch(e) {\r\n        this.setState({\r\n            searchText: e.target.value \r\n        })\r\n    }\r\n\r\n    render() {\r\n        var companyId = this.props.match.params.id;\r\n        var filterCompany = this.props.app.agent.companies.filter(function (item) {\r\n                            return item.companyId === companyId;\r\n                        });\r\n\r\n        var company = filterCompany.length > 0 ? filterCompany[0] : null;\r\n\r\n        const breadcrumbItems = [{\r\n            name: 'Ana Sayfa',\r\n            link: '/'\r\n        },{\r\n            name: 'Müşteriler',\r\n            link : '/agent/company/list'\r\n        },{\r\n            name: (company ? company.companyName : \"\"),\r\n            link : '/agent/company/detail/' + (company ? company.companyId : \"\")\r\n        },{\r\n            name: \"Ürünler\"\r\n        }];\r\n\r\n        return (\r\n        [\r\n          <Breadcrumb items={breadcrumbItems} />,\r\n          <section className=\"panel\">\r\n            <Message />\r\n            <div className=\"container\">\r\n                <LeftDetail item={company} />\r\n                {company &&\r\n                    <div className=\"right\">\r\n                        <div className=\"title-default with-close\">\r\n                            <Link id={\"product-list-companyedit\"} className=\"btn-back\" to={\"/agent/company/detail/\" + company.companyId}>\r\n                                Kapat\r\n                            </Link>\r\n                            <span>Tüm Ürünler</span>\r\n                        </div>\r\n                        <div className=\"agent-detail-header\">\r\n                            <div className=\"column\">\r\n                                <Link id={\"product-list-addnew\"} className=\"form-btn-add\" to={\"/agent/company/detail/\" + company.companyId + \"/products/create\"}>\r\n                                    + Yeni ürün ekle\r\n                                </Link>\r\n                            </div>\r\n                            <div className=\"column\">\r\n                                <div className=\"search\">\r\n                                    <div className=\"form-item\">\r\n                                        <input type=\"text\" placeholder=\"Ürünler içinde ara\" value={this.state.searchText} onChange={this.handleSearch} />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"accordion agent-products\">\r\n                            {company.productResponse && company.productResponse.map((item, i) => \r\n                                {if(item.productType.toLowerCase().indexOf(this.state.searchText.toLowerCase()) >= 0) \r\n                                    return (\r\n                                        <div className=\"accordion-item\" key={\"company_product_\" + i}>\r\n                                            <div className=\"accordion-header\">\r\n                                                {item.productType}\r\n                                            </div>\r\n                                            <div className=\"accordion-body\">\r\n                                                <ProductDetail item={item} />\r\n                                            </div>\r\n                                        </div>\r\n                                    )\r\n                                }\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                }\r\n            </div>\r\n          </section>\r\n        ]\r\n      );\r\n    }\r\n  }\r\n\r\n  function mapStateToProps(state) {\r\n      return {\r\n          app: state.app \r\n      }\r\n  }\r\n\r\n  export default connect(mapStateToProps)(CompanyDetailUsers)"]},"metadata":{},"sourceType":"module"}